<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="product" content="SI" />
      <meta name="release" content="2015" />
      <meta name="book" content="Developer" />
      <meta name="created" content="2014-03-13" />
      <meta name="topicid" content="GUID-CBDCA078-70E9-46A7-8C76-59FCEB017A17" />
      <meta name="indexterm" content="Understanding Menu Anchor Points" />
      <meta name="indexterm" content="Dissecting the Morphology of the siMenuAnchorPoints Enum" />
      <meta name="indexterm" content="menu anchor points: understanding the siMenuAnchorPoints enum" />
      <meta name="indexterm" content="custom menus: understanding the siMenuAnchorPoints enum structure" />
      <meta name="indexterm" content="Adding the Same Menu to Several Different Anchor Points" />
      <meta name="indexterm" content="custom menus: adding: to multiple points" />
      <meta name="indexterm" content="menu anchor points: adding to multiple locations" />
      <meta name="indexterm" content="Fiddling with its Appearance" />
      <meta name="indexterm" content="custom menus: automatic separators" />
      <meta name="indexterm" content="separators: when they appear automatically in custom menus" />
      <meta name="indexterm" content="Nesting: Using SubMenus" />
      <meta name="indexterm" content="nesting: in custom menus" />
      <meta name="indexterm" content="submenus: adding to custom menus" />
      <meta name="indexterm" content="custom menus: adding submenus (nesting)" />
      <meta name="indexterm" content="custom filters: naming submenu anchor points" />
      <meta name="indexterm" content="custom menus: multiple nesting" />
      <meta name="indexterm" content="nesting: multiple submenus" />
      <meta name="indexterm" content="Naming: Using Labels" />
      <meta name="indexterm" content="custom menus: specifying the name to appear" />
      <meta name="indexterm" content="custom menus: assigning access keys" />
      <meta name="indexterm" content="Assigning Access Keys" />
      <meta name="indexterm" content="access keys: assigning in custom menus" />
      <meta name="indexterm" content="&amp; (access key for custom menus)" />
      <meta name="indexterm" content="access keys: on Windows XP" />
      <meta name="indexterm" content="Organizing: Using Separators" />
      <meta name="indexterm" content="separators: using in custom menus" />
      <meta name="indexterm" content="custom menus: using: separators" />
      <meta name="indexterm" content="Ordering: Specifying the Sequence of Menu Items" />
      <meta name="indexterm" content="ordering: menu items on custom menus" />
      <meta name="indexterm" content="custom menus: ordering menu items" />
      <meta name="indexterm" content="Should I Use Callbacks or Commands?" />
      <meta name="indexterm" content="custom menus: special callback functions vs. commands" />
      <meta name="indexterm" content="Adding Filters to Your Menus" />
      <meta name="indexterm" content="custom menus: adding: filters" />
      <meta name="indexterm" content="filters: adding to custom menus" />
      <meta name="indexterm" content="Example: Using the polygonmesh filter with a custom menu" />
      <meta name="topic-type" content="concept" />
      <title>How to Make Your Own Menus</title><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script></head>
   <body height="100%"><div class="body_content" id="body-content"><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 reflinkdata.push(["Context", "si_cpp/classXSI_1_1Context.html", "C++ API Reference", "../"]); 
</script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div><span class="anchor_wrapper"><a name="GUID-CBDCA078-70E9-46A7-8C76-59FCEB017A17"></a></span><div class="head">
            <h1>How to Make Your Own Menus</h1>
         </div>
         <div class="bodyProcess">
            <p><span class="anchor_wrapper"><a name="GUID-B5BB0344-9A16-49F1-B5F3-E97DE0B91D08"></a></span>As with all self-installing plug-ins, you have to deal with the installation of the
               plug-in while you are working on its implementation. The installation of menus requires
               you to use special callbacks to indicate what you want to register and where it will
               go in addition to what components (items) the plug-in will implement. 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-0B72B60D-C17F-425F-A63D-8DFDB71640F8"></a></span>The components of a menu consist of the entries you want to appear on your menu, along
               with any special custom functions that are required (in the case of callback menu
               items). 
            </p>
            <p><span class="anchor_wrapper"><a name="GUID-A3A43CEA-C544-45B4-9EFB-21848DF30C8B"></a></span>To install (register) your custom menu, you need to include the <em class="strong">XSILoadPlugin</em> callback in which you specify the name of each menu plug-in item (and any related
               plug-in items, such as self-installing commands or operators, etc.). Each menu plug-in
               item is registered using a separate call to the <a href="#!/url=./si_om/PluginRegistrar.RegisterMenu.html">RegisterMenu (PluginRegistrar)</a> method which contains the following information: 
            </p><span class="anchor_wrapper"><a name="UL_39026B250CDD45238E9E1230F21F30A5"></a></span><ul>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-F2C5FF05-64A3-478E-AB10-BFF29D717A59"></a></span>Where the menu will appear (see <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-0018">Understanding Menu Anchor Points</a></span>). 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-A8C42942-63FD-4391-8A1E-059F04FEC262"></a></span>How it will appear (see <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-001C">Fiddling with its Appearance</a></span>). 
                  </p> 
               </li>
               <li> 
                  <p><span class="anchor_wrapper"><a name="GUID-DDB5D51B-EEF7-40CE-90AE-EF3A1587A9F8"></a></span>What name it will have: the name of the menu plug-in is important because Softimage
                     will expect to see its definition callback matching that name plus <span class="code" translate="no">_Init</span> in order to figure out how to display it when the time comes For more information,
                     see <a href="#!/url=./si_cmds/callbacks.html#cb_menu">Menu Callbacks</a>. 
                  </p> 
               </li>
            </ul>
            <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-0018"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AB6E5388-BCEB-48B6-A4D9-213E2FA37F65"></a></span> Understanding Menu Anchor Points
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-3BD73F1A-1797-497D-9A33-F419B83FC41D"></a></span>As outlined in <span class="char_link"><a href="#!/url=./files/cus_menus_WhatCanICustomizewithMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-000D">
                        Where Can Menus Appear?
                        </a></span>, a <em class="mild">menu anchor point</em> represents the location where a menu plug-in item will appear in the Softimage user
                  interface. There are three types of locations where you can insert your menu plug-in
                  item: 
               </p> <span class="anchor_wrapper"><a name="UL_6A307C2E81014F35981E8898C620C1CC"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-43FADAA1-A6FB-4305-8057-B375443C0C0E"></a></span> <span class="char_link"><a href="#!/url=./files/cus_menus_WhatCanICustomizewithMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-000E">Toolbar Menus</a></span>—menus that drop down from a toolbar button (for example, the <span class="code" translate="no">siMenuTbGetPrimitiveSurfaceID</span> member of the <a href="#!/url=./si_om/siMenuAnchorPoints.html">siMenuAnchorPoints</a> enum corresponds to <span class="MenuCascade" id="GUID-730717B0-1001-4BBC-8F6D-3A2007D2CC80">Get</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-9330C140-8ADA-4386-87D9-11127EFC8756">Primitive</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-3C86718A-A4E8-4128-A632-AAF3B27A98FE">Surface</span> on the <span class="MenuCascade" id="GUID-5103DBEE-5251-473C-AF78-53129C7724B1">Model</span> toolbar). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-3E2C9078-CFC0-47B5-AC63-49FA2E0643A9"></a></span> <span class="char_link"><a href="#!/url=./files/cus_menus_WhatCanICustomizewithMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-000F">Window Menus</a></span>—menus that drop down from a fixed menubar (for example, the <span class="code" translate="no">siMenuMainFileImportID</span> member of the <a href="#!/url=./si_om/siMenuAnchorPoints.html">siMenuAnchorPoints</a> enum corresponds to the end of the <span class="MenuCascade" id="GUID-06EDEC19-0F8B-4084-A71D-4C437398B189">Import</span> submenu under the <span class="MenuCascade" id="GUID-9D15ED4D-4F2E-4B60-9F3A-21CB1CA6C255">File</span> menu). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-92FBC276-41E1-488E-B658-E0A3BA4C77C4"></a></span> <span class="char_link"><a href="#!/url=./files/cus_menus_WhatCanICustomizewithMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-0010">Contextual Menus</a></span>—menus that pop up when you right-click in the Scene Explorer or one of the 3D Views
                        according to the context (for example, the <span class="code" translate="no">siMenuSELayersContextID</span> member of the <a href="#!/url=./si_om/siMenuAnchorPoints.html">siMenuAnchorPoints</a> enum corresponds to the pop-up menu that appears when the Scene Explorer's Scope
                        Menu is set to Layers). 
                     </p> 
                  </li>
               </ul> 
               <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-0019"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-6931FA27-BFDC-4033-ADA0-CA19CDB2B475"></a></span> Dissecting the Morphology of the siMenuAnchorPoints Enum
                  </h3>    
                  <p><span class="anchor_wrapper"><a name="GUID-EDD00F28-B4CD-4FF6-B978-F0092F588CE2"></a></span>To begin with, all members of the <a href="#!/url=./si_om/siMenuAnchorPoints.html">siMenuAnchorPoints</a> enum begin with <span class="code" translate="no">siMenu</span> and end with <span class="code" translate="no">ID</span>. Each member identifies the type of anchor point with one of the following conventions
                     (bolded): 
                  </p> <span class="anchor_wrapper"><a name="UL_2FC9925F2B77434787FF725EC9BA2F32"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-46C74AF2-74AE-4213-8CF1-05A658114A32"></a></span> <span class="char_link"><a href="#!/url=./files/cus_menus_WhatCanICustomizewithMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-000E">Toolbar Menus</a></span>: <span class="code" translate="no">siMenu<em class="strong">Tb</em></span>___<span class="code" translate="no">ID</span> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-B5DDFA96-C1EA-4921-9C1B-79171B75C48B"></a></span> <span class="char_link"><a href="#!/url=./files/cus_menus_WhatCanICustomizewithMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-000F">Window Menus</a></span>: <span class="code" translate="no">siMenu<em class="strong">Main</em></span>___<span class="code" translate="no">ID</span> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-B2D47DCA-6620-45CA-A60B-061389709D45"></a></span> <span class="char_link"><a href="#!/url=./files/cus_menus_WhatCanICustomizewithMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-0010">Contextual Menus</a></span>: <span class="code" translate="no">siMenu</span>___<span class="code" translate="no"><em class="strong"><a href="javascript:void(0)" data="Context" class="a_multireflink">Context</a></em>ID</span> 
                        </p> 
                     </li>
                  </ul> 
                  <p><span class="anchor_wrapper"><a name="GUID-D8A6EDF1-0A44-494E-94D8-147CBB82F9AC"></a></span>In addition, there are two kinds of contextual menus that correspond to the view context:
                     
                  </p> <span class="anchor_wrapper"><a name="UL_7988DF9D062F4D84A2124D8B615551B8"></a></span><ul>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-35E37494-003C-49D8-ADBA-D1355E0B948A"></a></span>Scene Explorer: <span class="code" translate="no">siMenu<em class="strong">SE</em></span>___<span class="code" translate="no">ContextID</span> 
                        </p> 
                     </li>
                     <li> 
                        <p><span class="anchor_wrapper"><a name="GUID-510DF8CD-CAFB-491F-B8E9-AB6A3BEDA1CF"></a></span>3D Views: <span class="code" translate="no">siMenu<em class="strong">3DView</em></span>___<span class="code" translate="no">ContextID</span> 
                        </p> 
                     </li>
                  </ul> 
                  <p><span class="anchor_wrapper"><a name="GUID-62693E35-7BEF-495C-8E70-8C14A7FCC9F5"></a></span>The rest of the enum name (___) contains the path of the submenu. For example, <span class="code" translate="no">siMenuTbCreateRigidBodyConstraintID</span> can be broken down as follows: 
                  </p> <img src="../images/GUID-5481404C-CD8B-48D1-AC01-395672BAB9A9-low.png" /> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-001B"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-92F97E1D-44F4-441B-95D2-2EFA6F5B8967"></a></span> Adding the Same Menu to Several Different Anchor Points
                  </h3>    
                  <p><span class="anchor_wrapper"><a name="GUID-B28A29D6-6AB9-4F90-9514-E588146F342A"></a></span>You may want to add the same menu plug-in item to many different menus. For example,
                     if you created a custom command that creates a new type of primitive you may decide
                     to add a command menu entry under the <span class="MenuCascade" id="GUID-7606E0CB-9E2B-4DEB-BE7C-CCB976542774">Application</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-6914B191-035F-49E5-ADF4-523026B229FB">Commands</span> and <span class="MenuCascade" id="GUID-60DC2BB7-6D32-44C3-A7F0-403C41A562C4">Model</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-C81E034C-4174-4DA0-8577-FFEC3B9B9DDD">Create</span><span class="MenuCascade" id="GUID-775A6411-A8E9-4E79-ABC1-41D0191C717E">Poly. Mesh</span> window menus, the <span class="MenuCascade" id="GUID-7F3AADD5-5CC0-4790-B010-5172A42FEF5B">Get</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-18134FED-C881-49EA-A92A-98D4F6ECC33A">Primitive</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-28571BC1-41F4-4366-9AA7-15E750169916">Polygon Mesh</span> toolbar menu and one or more of the contextual menus. 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-7798BD02-EC02-48BC-A238-3B3417F2E844"></a></span>To add an entry to several points, you need to add one <a href="#!/url=./si_om/PluginRegistrar.RegisterMenu.html">RegisterMenu (PluginRegistrar)</a> call for each menu anchor point but use the same menu plug-in item for each. For
                     example, if your plug-in implements a custom command plug-in item called <em class="mild">MooMooCow</em> and you want that command to appear in the <span class="MenuCascade" id="GUID-5747E3D0-C113-498C-AFE3-42FA342A1165">Application</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-830A1E6E-4DFD-4AEB-9350-F068BF4541B4">Preferences</span> window menu as well as the <span class="MenuCascade" id="GUID-E9986922-9300-4F54-8DB7-E68585FF552E">Preferences</span> contextual menu in the Scene Explorer, the XSILoadPlugin callback should include
                     calls similar to these: 
                  </p> 
                  <div class="codeBlock"><pre class="prettyprint">// Register the Moo command 
	in_reg.RegisterCommand( "MooMooCow", "Moo" );
	
	// The Moo command will appear in the Application &gt; Preferences
	// menu as well as the (SE) Preferences contextual menu
	in_reg.RegisterMenu( siMenuMainApplicationPreferencesID, "MooMenu", true );
	in_reg.RegisterMenu( siMenuSEPreferenceContextID, "MooMenu", false );</pre></div> 
                  <p><span class="anchor_wrapper"><a name="GUID-F285F4E4-EA62-4449-9DEC-327F8435D45F"></a></span>Then you only need to define (specify which menu items or entries are associated to
                     that menu plug-in item) the menu plug-in item once: in the <span class="code" translate="no">MooMenu_Init</span> callback. 
                  </p> 
                  <div><span class="anchor_wrapper"><a name="GUID-B0179A8A-D4CD-47F3-869E-DC6B6436C23C"></a></span><div class="note-note"><span class="label">NOTE:</span> 
                        <p><span class="anchor_wrapper"><a name="GUID-AD8DFEC4-D5B1-4554-B5BF-F162E97E9BF7"></a></span>As you can see from this example, a menu plug-in item doesn't necessarily have to
                           appear the same way in different locations. In this example, the menu that appears
                           in the <span class="MenuCascade" id="GUID-49075880-4E7A-4876-911A-85EDC02CB38B">Application</span><img src="../images/ac.menuaro.gif" /><span class="MenuCascade" id="GUID-6AF13108-D2ED-47B6-BC6D-7EC57FCBF984">Preferences</span> window menu will appear as a drop-down (secondary) menu but the one that appears
                           in the <span class="MenuCascade" id="GUID-F6C2B7AC-F7E8-402E-9B25-B4479E0DCA1A">Preferences</span> contextual menu will appear on the main menu level. 
                        </p> 
                     </div>
                  </div> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-001C"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-654AF9AC-FF15-4103-9B70-5926F838BF5E"></a></span> Fiddling with its Appearance
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-656A508F-F02A-4088-95D3-E8B62BEBFFCC"></a></span>You have a number of options available to define how your menu will appear: 
               </p> <span class="anchor_wrapper"><a name="UL_198D8676DBCA4C13A0445ABD0AA70FD9"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-ACCB5313-ABC4-4109-8F12-125523F7FF67"></a></span>You can decide whether you want your menu items (entries) to appear in a submenu (secondary
                        menu) off a single menu anchor point or on the same level as the anchor point—see
                        <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-001D">Nesting: Using SubMenus</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-1E7597A4-2A89-4ABA-A05D-DCDA8C5A69FB"></a></span>You can define how each entry will appear (and to some extent, what label announces
                        the submenu, if relevant) and assign an access key to it—see <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-0023">Naming: Using Labels</a></span>. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-632387D8-ED7D-4507-9371-877E080E187F"></a></span>You can distinguish some of your menu items from the rest by using separators (horizontal
                        lines between items)—see <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-0025">Organizing: Using Separators</a></span>. 
                     </p> 
                  </li>
               </ul> 
               <div><span class="anchor_wrapper"><a name="GUID-40AEE60F-49EE-42CA-8CE4-F6D22B7D3F03"></a></span><div class="note-tip"><span class="label">TIP:</span> 
                     <p><span class="anchor_wrapper"><a name="GUID-EAF2C8DA-5F16-4633-AE56-4486E6641F8E"></a></span>Explicitly adding separators is only necessary to set off menu items within a single
                        menu, since a single menu comes already separated from other menu plug-in items or
                        native Softimage menu entries. 
                     </p> 
                  </div>
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-001D"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-72152741-6C32-44B9-80C3-9AF57D7DD064"></a></span> Nesting: Using SubMenus
                  </h3>     
                  <p><span class="anchor_wrapper"><a name="GUID-5C0651B8-FA4A-4996-B85B-21BAB66E25FB"></a></span>In many cases your menus will appear at the end of an exising menu. If you have only
                     a few entries, it may make sense to display the entries in the same menu. Otherwise,
                     you can use submenus to easily organize large numbers of entries: 
                  </p> <span class="anchor_wrapper"><a name="TABLE_B95F7E1DA362465DB0B69511610E80D6"></a></span><div class="table_Ruled">
                     <table cellpadding="0" cellspacing="0" class="ruled">
                        <colgroup>
                           <col />
                           <col />
                        </colgroup>
                        <tr class="ruledHeading">
                           <th class="table-heading"> <span class="anchor_wrapper"><a name="GUID-A53C0CE4-5951-4E01-B1B9-AF1BD7975127"></a></span><p class="table-heading">Flat Entry(same menu) </p> 
                           </th>
                           <th class="table-heading"> <span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-001E"></a></span><p class="table-heading"> SubMenu (drop-down menu) </p> 
                           </th>
                        </tr>
                        <tr class="ruledOddRow">
                           <td class="table-body">&nbsp; <img src="../images/GUID-521EC557-C829-495E-9E32-7A0F8E417F47-low.png" /> 
                           </td>
                           <td class="table-body">&nbsp; <img src="../images/GUID-A92C6AD6-D620-4188-BD26-0B4BB1BB8B58-low.png" /> 
                           </td>
                        </tr>
                     </table>
                  </div> 
                  <p><span class="anchor_wrapper"><a name="GUID-D8DAA9B6-0224-43AC-8484-A89EAA8268F0"></a></span>You specify whether your menu plug-in item will appear as a flat list inside the anchor
                     menu or as a secondary drop-down menu when you are registering the menu plug-in item
                     with the <em class="strong">DisplayAsSubmenu</em> parameter of the <a href="#!/url=./si_om/PluginRegistrar.RegisterMenu.html">PluginRegistrar.RegisterMenu</a> method: 
                  </p> 
                  <div class="codeBlock"><pre class="prettyprint">// To register a flat menu (no submenu):
	in_reg.RegisterMenu( siMenuTbDeformID, "AnchorPoint", <em class="strong">false</em> );

	// To register a submenu:
	in_reg.RegisterMenu( siMenuTbDeformID, "AnchorPoint", <em class="strong">true</em> );
	// ... or the equivalent (true is the default):
	in_reg.RegisterMenu( siMenuTbDeformID, "AnchorPoint" );</pre></div> 
                  <div><span class="anchor_wrapper"><a name="GUID-0129CF34-0553-40E1-8F72-7EAC606F8751"></a></span><div class="note-note"><span class="label">NOTE:</span> 
                        <p><span class="anchor_wrapper"><a name="GUID-B1024E3A-26AD-4881-9231-1DD996FA2900"></a></span>One thing to be aware of is that the name of the menu plug-in item will appear as
                           the submenu anchor point, as the above statement demonstrates the underlying code
                           to produce the <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-001E">SubMenu (drop-down menu)</a></span> example in the table above. 
                        </p> 
                     </div>
                  </div> 
                  <p><span class="anchor_wrapper"><a name="GUID-EBADD8F6-1C85-4480-B719-AF7EEA8AECF6"></a></span>Another point of interest is that you can nest any number of submenus, but you only
                     need one menu anchor point: the other dependent submenus are defined inside the <span class="code" translate="no">Init</span> callback for the top-level menu plug-in using an AddItem call with siMenuItemSubmenu
                     as the specified value for the Style parameter: 
                  </p> 
                  <div class="codeBlock"><pre class="prettyprint">function NestedMenus_Init( in_context )
	{
		// Get the menu object from the Context input
		var oTopMnu = in_context.Source;

		// Add some regular menu items
		oTopMnu.AddItem( "Regular Item1", siMenuItem );
		oTopMnu.AddItem( "Regular Item2", siMenuItem );

		// Add the submenu item 
		var oSubLevel1 = oTopMnu.AddItem( "SubMenu Demo Level1", 
			<em class="strong">siMenuItemSubmenu</em> )
		oSubLevel1.AddItem( "SubLevel1 ItemA", siMenuItem );
		oSubLevel1.AddItem( "SubLevel1 ItemB", siMenuItem );

		// Nest another submenu item 
		var oSubLevel2 = oSubLevel1.AddItem( "SubMenu Demo Level2", 
			<em class="strong">siMenuItemSubmenu</em> )
		oSubLevel2.AddItem( "SubLevel2 ItemA", siMenuItem );
		oSubLevel2.AddItem( "SubLevel2 ItemB", siMenuItem );
		oSubLevel2.AddItem( "SubLevel2 ItemC", siMenuItem );
		oSubLevel2.AddItem( "SubLevel2 ItemD", siMenuItem );

		// ... and another ...
		var oSubLevel3 = oSubLevel2.AddItem( "SubMenu Demo Level3", 
			<em class="strong">siMenuItemSubmenu</em> )
		oSubLevel3.AddItem( "SubLevel3 ItemA", siMenuItem );
		oSubLevel3.AddItem( "SubLevel3 ItemB", siMenuItem );
		oSubLevel2.AddItem( "SubLevel2 ItemC", siMenuItem );

		// ... etc.

		// Finish with success notification
		return true;
	}</pre></div> 
                  <p><span class="anchor_wrapper"><a name="GUID-CE6D33F5-A09A-435C-A65F-8D5F1EA746BE"></a></span>This example produces this type of nesting: 
                  </p> <img src="../images/GUID-8767810B-14B3-4842-8E9C-B381412574A5-low.png" /> 
                  <p><span class="anchor_wrapper"><a name="GUID-D19CAC40-8D99-4EF0-B79E-7DE1CCF9B892"></a></span>Since each submenu is added to a menu object, you get the menu object returned from
                     the <a href="#!/url=./si_om/Menu.AddItem.html">AddItem (Menu)</a> call to nest another submenu. In the above example, if it had used the <span class="code" translate="no">oTopMnu</span> object to add each <span class="code" translate="no">SubLevel</span> submenu, it would have created the three submenus as siblings instead: 
                  </p> <img src="../images/GUID-F08998FB-7C5F-4B66-959B-B4BC346A75F6-low.png" /> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-0023"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-4050078C-6211-413D-A77D-9B49E7F133FE"></a></span> Naming: Using Labels
                  </h3>   
                  <p><span class="anchor_wrapper"><a name="GUID-1C792D23-D0C5-4DDF-B871-DC15E3CC197C"></a></span>For flat menus, the name of the main entry point does not appear, but the name you
                     register the top submenu with (<a href="#!/url=./si_om/PluginRegistrar.RegisterMenu.html">RegisterMenu (PluginRegistrar)</a>) or the name you add submenus with (<a href="#!/url=./si_om/Menu.AddItem.html">AddItem (Menu)</a>) appears as the name of the anchor point (see <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-001D">Nesting: Using SubMenus</a></span> for more information about creating submenus). 
                  </p> 
                  <p><span class="anchor_wrapper"><a name="GUID-81AD9BD0-6667-451C-89F8-3C16ED223A80"></a></span>For menu items (except separators), you define the name of the item with the <em class="strong">Label</em> parameter for whichever method you use (<a href="#!/url=./si_om/Menu.AddItem.html">AddItem (Menu)</a>, AddCommandItem (Menu) or <a href="#!/url=./si_om/Menu.AddItem.html">AddItem (Menu)</a>): 
                  </p> 
                  <div class="codeBlock"><pre class="prettyprint">// Add an entry that appears as 'Daffy Duck' and calls a special 
	// function defined in the same plug-in file as 'QuackQuackQuack':
	oMnu.AddCallbackItem( "<em class="strong">Daffy Duck</em>", "QuackQuackQuack" );

	// Add an entry that appears as 'Launch Explorer' and invokes the
	// 'OpenXSIExplorer' command:
	oMnu.AddCommandItem( "<em class="strong">Launch Explorer</em>", "OpenXSIExplorer" );

	// Alternative ways to do the same things:
	var cbk = oMnu.AddItem( "<em class="strong">Daffy Duck</em>", siMenuItem );
	cbk.Callback = "QuackQuackQuack";

	var cmd = oMnu.AddItem( "<em class="strong">Launch Explorer</em>", siMenuItem );
	cmd.Command = "OpenXSIExplorer";</pre></div> 
                  <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-0024"></a></span> 
                     <h4><span class="anchor_wrapper"><a name="GUID-C5DE3317-BB8F-4FC9-99D7-E36CFC398BCF"></a></span> Assigning Access Keys
                     </h4>    
                     <p><span class="anchor_wrapper"><a name="GUID-9C9BD1DA-C4C3-42A9-A013-4A4D98E4866C"></a></span>You can also assign one of the letters in the label as an access key by inserting
                        an ampersand (&amp;) before that letter. An access key is a letter that appears underlined
                        which the user can press to activate the associated callback or command. For example:
                        
                     </p> 
                     <div class="codeBlock"><pre class="prettyprint">// Assign 'k' as the access key for the 'Daffy Duck' menu entry:
	oMnu.AddCallbackItem( "Daffy Duc&amp;k", "QuackQuackQuack" );

	// Assign 'x' as the access key for the 'Launch Explorer' menu entry:
	oMnu.AddCommandItem( "Launch E&amp;xplorer", "OpenXSIExplorer" );</pre></div> 
                     <div><span class="anchor_wrapper"><a name="GUID-61F68F3C-9905-4D93-BE40-0E2E9594ACD9"></a></span><div class="note-tip"><span class="label">TIP:</span> 
                           <p><span class="anchor_wrapper"><a name="GUID-BFBD0B91-673F-48DB-B086-956FBD4F105D"></a></span>On Windows XP access keys are not identified (do not appear underlined) by default.
                              To display them, press the <span class="MenuCascade" id="GUID-33C804BB-FE57-48C4-BE57-7963BEDBF7E4">Alt</span> key. 
                           </p> 
                        </div>
                     </div> 
                  </div> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-0025"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-83DB82B5-A32E-4268-BD91-B6D1CB7EDF4A"></a></span> Organizing: Using Separators
                  </h3>    
                  <p><span class="anchor_wrapper"><a name="GUID-13B0F3B8-9821-4BF9-B883-D1F8424BF740"></a></span>You may want to set certain menu items apart from the others visually. There is a
                     special method that inserts a horizontal line between items: the <a href="#!/url=./si_om/Menu.AddSeparatorItem.html">AddSeparatorItem (Menu)</a> method. For example: 
                  </p> <img src="../images/GUID-36EC402E-FAAF-47C7-9F29-F552D68EE963-low.png" /> 
                  <div class="codeBlock"><pre class="prettyprint">// Of five items, separate the third and fourth
		oSepMnu.AddItem( "Menu Item 1", siMenuItem );
		oSepMnu.AddItem( "Menu Item 2", siMenuItem );

		oSepMnu.<em class="strong">AddSeparatorItem</em>();

		oSepMnu.AddItem( "Menu Item 3", siMenuItem );
		oSepMnu.AddItem( "Menu Item 4", siMenuItem );

		oSepMnu.<em class="strong">AddSeparatorItem</em>();

		oSepMnu.AddItem( "Menu Item 5", siMenuItem );</pre></div> 
                  <div><span class="anchor_wrapper"><a name="GUID-7263291C-FA80-4EA7-AC67-6630F6250F81"></a></span><div class="note-note"><span class="label">NOTE:</span> 
                        <p><span class="anchor_wrapper"><a name="GUID-B8C90D2F-022A-42DE-AEAE-18FB11FF63BE"></a></span>Notice that the order of these items determines the order in which they appear. See
                           <span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-0027">Ordering: Specifying the Sequence of Menu Items</a></span> for more information. 
                        </p> 
                     </div>
                  </div> 
               </div> 
               <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-0027"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-2BEF04E4-4C9D-4BB6-9E70-A718C3958AFF"></a></span> Ordering: Specifying the Sequence of Menu Items
                  </h3>    
                  <p><span class="anchor_wrapper"><a name="GUID-D2CAEE80-2472-47DE-B393-8396AA0A4AC3"></a></span>The sequence in which you define menu items determines their order in the final menu.
                     This is true for all menu items: command entries, callback entries, submenus and separators.
                     Compare the following example with the example in the previous section (<span class="char_link"><a href="#!/url=./files/cus_menus_HowtoMakeYourOwnMenus.htm#WS209F6C4D71DA954DB0E0FF512CF0DEBA-0025">Organizing: Using Separators</a></span>): 
                  </p> <img src="../images/GUID-2B0BC93E-AC0E-4626-983D-05D048F21D26-low.png" /> 
                  <div class="codeBlock"><pre class="prettyprint">// Move the lines out of order
		oSepMnu.AddItem( "Menu Item 3", siMenuItem );
		oSepMnu.AddItem( "Menu Item 4", siMenuItem );

		oSepMnu.AddItem( "Menu Item 1", siMenuItem );
		oSepMnu.AddItem( "Menu Item 2", siMenuItem );

		oSepMnu.AddSeparatorItem();
		oSepMnu.AddSeparatorItem();

		oSepMnu.AddItem( "Menu Item 5", siMenuItem );</pre></div> 
               </div> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-0029"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-AD1E531F-CC53-4D07-B950-6486D2806E6F"></a></span> Should I Use Callbacks or Commands?
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-937E9619-81FD-44EB-AC58-2652427EEF30"></a></span>If you are defining your own custom command and you wonder whether it is really necessary
                  to implement a command or if you can get away with defining a special callback function,
                  consider these facts: 
               </p> <span class="anchor_wrapper"><a name="UL_33F136B87647446895A2238B5EE17308"></a></span><ul>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-F24ED03A-811A-4772-803E-6783407C7165"></a></span>Commands get added to the Softimage command map; callbacks do not. One implication
                        of this is that callbacks cannot be assigned hotkeys. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-B0C4B8EE-B387-41FF-B132-A802785656BE"></a></span>Callbacks cannot be re-used outside of the plug-in module in which they are defined;
                        but once a command is registered, it is available throughout Softimage until it is
                        explicitly unloaded. 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-2269A1A0-5F6E-4CBD-B59D-BCF75D14B987"></a></span>Commands must have unique names in Softimage; callbacks can use the same name as another
                        command in Softimage (in case of a clash, the callback is invoked). 
                     </p> 
                  </li>
                  <li> 
                     <p><span class="anchor_wrapper"><a name="GUID-CCFFC7CE-6A28-4D34-A81E-FF99256AA8AF"></a></span>Callbacks are easier to implement: all functionality is contained within the single
                        callback named in the <a href="#!/url=./si_om/Menu.AddItem.html">AddItem (Menu)</a> call. In addition to being identified in the AddCommandItem (Menu) call, commands
                        need to be registered in the <span class="code" translate="no">XSILoadPlugin</span> callback, defined in their <span class="code" translate="no">Init</span> callback and then implemented in their <span class="code" translate="no">Execute</span> callback. 
                     </p> 
                  </li>
               </ul> 
            </div>
            <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-002A"></a></span> 
               <h2><span class="anchor_wrapper"><a name="GUID-643710C5-808D-48B3-B99B-4DEECA0789CE"></a></span> Adding Filters to Your Menus
               </h2>  
               <p><span class="anchor_wrapper"><a name="GUID-22663760-A606-4FD4-A093-BAC5A86DD38D"></a></span>Some operations require specific types of input, whether it be a minimum number of
                  input objects, or objects of a certain primitive type, etc. You can add a filter that
                  matches whatever condition your function or command requires such that if the selected
                  object(s) do not match that condition, your menu will be disabled (even appearing
                  greyed-out). 
               </p> 
               <p><span class="anchor_wrapper"><a name="GUID-712F4C21-5EA5-449C-8F52-15864B10AFDA"></a></span>Filters are applied to a <a href="#!/url=./si_om/MenuItem.html">MenuItem</a> object by identifying which registered filter (either as the name of the filter or
                  the <a href="#!/url=./si_om/Filter.html">Filter</a> object) you want to use with the <a href="#!/url=./si_om/MenuItem.Filter.html">MenuItem.Filter</a> property. 
               </p> 
               <div class="section"><span class="anchor_wrapper"><a name="WS209F6C4D71DA954DB0E0FF512CF0DEBA-002B"></a></span> 
                  <h3><span class="anchor_wrapper"><a name="GUID-7B86E45B-9F0F-4B3A-BE82-597060D6D537"></a></span> Example: Using the polygonmesh filter with a custom menu
                  </h3>  
                  <p><span class="anchor_wrapper"><a name="GUID-3AD6395F-DEBF-444D-8F89-EF3E6588578C"></a></span>This example demonstrates how to specify a filter for a custom menu. The code is defined
                     in the <span class="code" translate="no">Init</span> callback. When the user tries to invoke any of the menu entries with a null or surface
                     mesh object selected, the menu will be disabled. As soon as the user selects a polygon
                     mesh object, the menu becomes accessible: 
                  </p> 
                  <div class="codeBlock"><pre class="prettyprint">// Get the menu object from the Context input
	var oFMnu = in_context.Source;
	oFMnu.<em class="strong">Filter</em> = "polygonmesh";

	// Add three callback items but only enable them for
	// polygon meshes.
	oFMnu.AddCallbackItem( "Punch Out Hole", "PunchOutHole" );
	oFMnu.AddCallbackItem( "Remove Corner", "RemoveCorner" );
	oFMnu.AddCallbackItem( "Smooth Curves", "SmoothCurves" );</pre></div> 
               </div> 
            </div>
         </div>
         <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /><p class="footer-license-block"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0;" src="../images/ccLink.png" /></a>&nbsp;<em>Except where otherwise noted, this work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>. Please see the <a href="http://autodesk.com/creativecommons" target="_blank">Autodesk Creative Commons FAQ</a> for more information.</em></p><br /></div>
   </div></body>
</html>