<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>MakeJointCompression</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>MakeJointCompression</h1>
         </div>

<h2 class="pagehead">MakeJointCompression</h2>

<h3>Introduced</h3>
<div><p>v4.0</p></div>

<h3>Description</h3>
<div><p>
Joint compression is a technique used to model two parts of a character pushing into each other, 
usually the arms or the legs. A bounding volume sphere is used on the LowerBone to do the pushing, 
and two nulls are used on the UpperBone to be pushed. For example, when the forearm comes into the 
bicep, the bicep deforms slightly as it is pushed by the forearm. The bounding volume is attached
to the forearm and the nulls to the bicep to get a more realistic skin deformation.
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oJoint = MakeJointCompression( [Prefix], UpperBone, LowerBone, GuideObjectCollection, [RollDivisionCollection] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>Returns a <a href="#!/url=./files/CDKJoint.htm">Joint</a> JScript object.</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">Prefix		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The name prefix for the newly created compression nulls.		</td>
	</tr>
	<tr>
		<td class="name">UpperBone		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The parent for the upper part of the joint assembly.		</td>
	</tr>
	<tr>
		<td class="name">LowerBone		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The parent for the lower part of the joint assembly.		</td>
	</tr>
	<tr>
		<td class="name">GuideObjectCollection		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>

		A list of 4 objects: 1) the boxes defining a line on the upper joint, closest to the root;
		2) the boxes defining a line on the upper joint, closest to the joint; 3) The box control 
		in the middle of the radius curve on the lower joint; and 4) the small sphere that acts as 
		a center point of the radius curve.
			</td>
	</tr>
	<tr>
		<td class="name">RollDivisionCollection		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>

		A collection of roll division objects so this assembly can bind to a roll division instead of
		a bone (optional).
			</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	This script makes a 2 bone arm
	and attaches joint compression nulls
	to the bicep.
*/
//
// Draw an arm-like two bone chain
//
var lPosStart = XSIMath.CreateVector3();
var lPosEnd = XSIMath.CreateVector3();
lPosStart.Set(0,0,0);
lPosEnd.Set(3,0,-1);
var HandChain = ActiveSceneRoot.Add2DChain(lPosStart, lPosEnd);
lPosEnd.Set(6,0,0);
HandChain.AddBone(lPosEnd, 2);
//
// Create guide objects and position them
//
var guidecoll = new ActiveXObject("XSI.Collection");
guidecoll.Add( GetPrim("Null", "RootGuide") ); 
guidecoll.Add( GetPrim("Null", "JointGuide") ); 
guidecoll.Add( GetPrim("Null", "SphereCenter") ); 
guidecoll.Add( GetPrim("Null", "RadiusControl") ); 
var Xfm = XSIMath.CreateTransform();
Xfm.SetTranslationFromValues(2,0,0.5);
guidecoll(0).Kinematics.Global.Transform = Xfm;
Xfm.SetTranslationFromValues(2.5,0,0.5);
guidecoll(1).Kinematics.Global.Transform = Xfm;
Xfm.SetTranslationFromValues(2,0,-1);
guidecoll(2).Kinematics.Global.Transform = Xfm;
Xfm.SetTranslationFromValues(4,0,-1);
guidecoll(3).Kinematics.Global.Transform = Xfm;
var JointCmp = MakeJointCompression("ABC_",HandChain.Bones(0),HandChain.Bones(1),guidecoll);
logmessage ("Data in the returned joint compression object:");
logmessage ("---------------------------------------------");
logmessage ("UpperJoint: " + JointCmp.UpperJoint);
logmessage ("LowerJoint: " + JointCmp.LowerJoint);
logmessage ("Volume    : " + JointCmp.Volume);
logmessage ("Envelope  : " + JointCmp.Envelope);
//results of running this script: 
//INFO : "Data in the returned joint compression object:"
//INFO : "---------------------------------------------"
//INFO : "UpperJoint: ABC_UpperJoint"
//INFO : "LowerJoint: ABC_LowerJoint"
//INFO : "Volume    : ABC_BendVolume"
//INFO : "Envelope  : ABC_UpperJoint,ABC_LowerJoint"</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_cmds/MakeArm.html">MakeArm</a> <a href="#!/url=./si_cmds/MakeLeg.html">MakeLeg</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
