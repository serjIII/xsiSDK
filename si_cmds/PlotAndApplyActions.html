<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>PlotAndApplyActions</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>PlotAndApplyActions</h1>
         </div>

<h2 class="pagehead">PlotAndApplyActions</h2>

<h3>Introduced</h3>
<div><p>v7.5</p></div>

<h3>Description</h3>
<div><p>
Creates and returns new actions by plotting values from consecutive frames 
of an animation. Actions are created under models containing animated 
parameters matching the specified list and you can choose whether or not to 
apply the actions back to the model and then optionally delete them.<br /><br />
If applying the plotted actions, animated parameters on layers, even on those locked,
may be edited or removed.
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oReturn = PlotAndApplyActions( [InputObj], [Name], [StartFrame], [EndFrame], [StepFrame], [FCurve Kind], [DefaultSegKind], [Fit FCurve], [Fit Tolerance], [ProcessContRots], [Apply], [Paste], [Delete], [Type], FrameSet );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>Returns the created actions (a <a href="#!/url=./si_om/XSICollection.html">XSICollection</a> object). Returns nothing if you chose the Delete option.</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">InputObj		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
<a href="#!/url=./files/listexpr.htm">List</a> 
		of parameters to plot into actions.
				<p class="cell"><span class="hilite">Default Value: </span>
Marked values in current selection			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Name		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
 Name for the actions 			<p class="cell"><span class="hilite">Default Value: </span>
"Action"			</p>
		</td>
	</tr>
	<tr>
		<td class="name">StartFrame		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 First frame to plot 			<p class="cell"><span class="hilite">Default Value: </span>
0			</p>
		</td>
	</tr>
	<tr>
		<td class="name">EndFrame		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 Last frame to plot 			<p class="cell"><span class="hilite">Default Value: </span>
0			</p>
		</td>
	</tr>
	<tr>
		<td class="name">StepFrame		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 Step between frames 			<p class="cell"><span class="hilite">Default Value: </span>
1			</p>
		</td>
	</tr>
	<tr>
		<td class="name">FCurve Kind		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>
 What kind of fcurve do we want to plot to? 			<p class="cell"><span class="hilite">Default Value: </span>
20			</p>
			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">10					</td>
					<td>BOOLEAN (value true or false)					</td>
				</tr>
				<tr>
					<td class="name">15					</td>
					<td>INTEGER (staircase-like fcurve with integer values)					</td>
				</tr>
				<tr>
					<td class="name">20					</td>
					<td>STANDARD (fcurve with spline/linear/constant interpolation)					</td>
				</tr>
				<tr>
					<td class="name">30					</td>
					<td>RAWDATA (linear fcurve: less storage than a standard fcurve but with linear interpolation only)					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">DefaultSegKind		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>
 What kind of interpolation do we want for the resulting fcurves? <br /><br />
	Note: Only relevant when FCurveKind is 20 (Standard).			<p class="cell"><span class="hilite">Default Value: </span>
3			</p>
			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">1					</td>
					<td>CONSTANT					</td>
				</tr>
				<tr>
					<td class="name">2					</td>
					<td>LINEAR					</td>
				</tr>
				<tr>
					<td class="name">3					</td>
					<td>CUBIC					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">Fit FCurve		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 Do we want to fit an fcurve through the plotted values? 			<p class="cell"><span class="hilite">Default Value: </span>
False			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Fit Tolerance		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 What tolerance do we want for the fit? 			<p class="cell"><span class="hilite">Default Value: </span>
0.01			</p>
		</td>
	</tr>
	<tr>
		<td class="name">ProcessContRots		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 Do we want to process rotation curves to ensure their continuity? 			<p class="cell"><span class="hilite">Default Value: </span>
True			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Apply		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 Do we want to apply the actions after plotting them? 			<p class="cell"><span class="hilite">Default Value: </span>
True			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Paste		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 If applying, should they be applied using paste (merging with existing fcurves on parameters)? 			<p class="cell"><span class="hilite">Default Value: </span>
False			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Delete		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 After plotting and applying, do we want to delete the actions? Only valid if Apply is specified. 			<p class="cell"><span class="hilite">Default Value: </span>
False			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Type		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>
0 for Frame Range, 1 for Frame Set			<p class="cell"><span class="hilite">Default Value: </span>
1			</p>
		</td>
	</tr>
	<tr>
		<td class="name">FrameSet		</td>
		<td><a href="#!/url=./files/Array.htm">Array</a>		</td>
		<td>
Array of scene time in seconds to plot each frame at.		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">//
// This example sets up one model with a sphere and another with a cone,
// plots various parameters to an action source for each model,
// and then prints out the new sources.
//
// Set up the scene.
NewScene( null, false );
var oSphere = CreatePrim( "Sphere", "NurbsSurface", "MySphere" );
var oCone = CreatePrim( "Cone", "NurbsSurface", "MyCone" );
CreateModel( oSphere, "SphereModel" );
CreateModel( oCone, "ConeModel" );
// Set some keys at frames 1 and 100 with it moving diagonally.
Translate( oSphere, -6, 3, 0, siAbsolute, siView, siObj, siXYZ );
SaveKey( oSphere + "/kine.local.pos", 1 );
Translate( oSphere , 6, -3, 0, siAbsolute, siView, siObj, siXYZ );
SaveKey( oSphere + "/kine.local.pos", 100 );
Translate( oCone , 6, -3, 0, siAbsolute, siView, siObj, siXYZ );
SaveKey( oCone + "/kine.local.pos", 1 );
Translate( oCone , -6, 3, 0, siAbsolute, siView, siObj, siXYZ );
SaveKey( oCone + "/kine.local.pos", 100 );
// Plot the positions of the sphere and the Y position of the cone every two frames
// between frames 40 and 60 and store the result in a standard fcurve with cubic
// interpolation. Don't fit the fcurves and don't care about continuous rotations
// since we're plotting positions. After plotting to actions, apply the plotted
// animations back onto the sphere and the cone using "paste" so existing keys outside
// the plot range are not affected. Don't delete the actions after applying them.
var oParamsColl = new ActiveXObject( "XSI.Collection" );
oParamsColl.Add( oSphere + ".kine.local.posx" );
oParamsColl.Add( oSphere + ".kine.local.posy" );
oParamsColl.Add( oSphere + ".kine.local.posz" );
oParamsColl.Add( oCone + ".kine.local.posx" );
var oActionsColl = PlotAndApplyActions( oParamsColl.GetAsText(),
			"plot", 40, 60, 2, 20, 3, false, null, null, true, true, false );
var iActionsCount = oActionsColl.Count;
if( iActionsCount &gt; 0 )
{
	for( var i = 0; i &lt; iActionsCount; i++ )
	{
		var oAction = oActionsColl.Item( i );
		var oSourceItemsFound = oAction.SourceItems;
		var iSourceItemsCount = oSourceItemsFound.Count;
		if( iSourceItemsCount &gt; 0 )
		{
			Application.LogMessage( "Found the following source items in " + oAction + ":" );
			for( var j = 0; j &lt; iSourceItemsCount; j++ )
			{
				Application.LogMessage( "\t" + oSourceItemsFound.Item( j ).Name );
			}
		}
		else
		{
			Application.LogMessage( "No source items found in " + oAction + "." );
		}
	}
}
else
{
	Application.LogMessage( "No actions created." );
}
//---------------------------------------------------------
// OUTPUT OF ABOVE SCRIPT IS:
// INFO : Found the following source items in Sources.SphereModel.plot:
// INFO : 	MySphere.kine.local.posx
// INFO : 	MySphere.kine.local.posy
// INFO : 	MySphere.kine.local.posz
// INFO : Found the following source items in Sources.ConeModel.plot:
// INFO : 	MyCone.kine.local.posx
//---------------------------------------------------------</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_cmds/PlotToActions.html">PlotToActions</a> <a href="#!/url=./si_cmds/PlotConstrainedTransformsToActions.html">PlotConstrainedTransformsToActions</a> <a href="#!/url=./si_cmds/PlotKeyableToActions.html">PlotKeyableToActions</a> <a href="#!/url=./si_cmds/ApplyAction.html">ApplyAction</a> <a href="#!/url=./si_cmds/StoreAction.html">StoreAction</a> <a href="#!/url=./si_cmds/DeleteObj.html">DeleteObj</a> <a href="#!/url=./si_cmds/PlotFrameSetToActions.html">PlotFrameSetToActions</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
