<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>RemoveAnimation</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>RemoveAnimation</h1>
         </div>

<h2 class="pagehead">RemoveAnimation</h2>

<h3>Description</h3>
<div><p>
Removes animation (fcurves, expressions,constraints) from the specified parameters.
You can also specify what the value of the parameter will be after removing 
the animation using this command.<br /><br />
By default, the new value is set to the value of the parameter at the current 
frame. However, if the Frame argument is specified, the command takes the 
value from the parameter value at the specified frame to set the new value.
Note: In the case of constraints the constraints will be removed from all the parameters
its affecting not only from the specified parameters.
Note: If the LayerAnimation argument is set to True, the command will remove animation
of the specified parameters on all layers, even on those locked. For each specified parameter
that was animated by a locked animation layers, a warning will be logged to inform the user
the locked animation layer(s) have been modified.
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>RemoveAnimation( [InputObjs], [Time], [StaticFCurves], [BaseAnimation], [LayerAnimation], [SourceMask] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">InputObjs		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
<a href="#!/url=./files/listexpr.htm">List</a> of animatable parameters (for example "cone*/kine.local.pos"). 			<p class="cell"><span class="hilite">Default Value: </span>
Currently selected and marked parameters			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Time		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 The animated values at this frame are assigned to the parameters when the animation is removed. 			<p class="cell"><span class="hilite">Default Value: </span>
Current frame			</p>
		</td>
	</tr>
	<tr>
		<td class="name">StaticFCurves		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 If True the command will remove static (constant) fcurves only. 			<p class="cell"><span class="hilite">Default Value: </span>
False			</p>
		</td>
	</tr>
	<tr>
		<td class="name">BaseAnimation		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 If True the command will remove animation on the base layer. 			<p class="cell"><span class="hilite">Default Value: </span>
True			</p>
		</td>
	</tr>
	<tr>
		<td class="name">LayerAnimation		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 If True the command will remove animation on all layers, even on those locked, but will not remove animation on the base layer. 			<p class="cell"><span class="hilite">Default Value: </span>
True			</p>
		</td>
	</tr>
	<tr>
		<td class="name">SourceMask		</td>
		<td><a href="#!/url=./si_om/siSourceType.html">siSourceType</a>		</td>
		<td>
 Type of animation source to remove. 			<p class="cell"><span class="hilite">Default Value: </span>
siAnySource			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>VBScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="vbscript">'
' This example sets up some animation on an object on both
' the X and Y positions. Then it demonstrates two different 
' ways to remove the replace the animation while removing it:
' first by passing a specific frame; and then by using the
' (default) current frame.
'
NewScene , false
' Create the object on which to set an expression
set oDonut = CreatePrim( "Torus", "NurbsSurface" )
' Make sure the last frame will be set to 100
SetValue "PlayControl.Out", 100
' Set a key frame at frame 1, with XPos = -30
printInfo oDonut &amp; ".kine.local.posx", Array( 1 ), "before"
SaveKey oDonut &amp; ".kine.local.posx", 1, -30
printInfo oDonut &amp; ".kine.local.posx", Array( 1 ), "after"
' Set another key frame at frame 100, with XPos = 30
printInfo oDonut &amp; ".kine.local.posx", Array( 100 ), "before"
SaveKey oDonut &amp; ".kine.local.posx", 100, 30
printInfo oDonut &amp; ".kine.local.posx", Array( 100 ), "after"
' Temporarily disable cycle checking (this 
' expression creates a cycle on purpose)
bCyclePref = GetValue( "preferences.data_management.disable_cycle_checking" )
SetValue "preferences.data_management.disable_cycle_checking", True
' Animate the YPos parameter with an expression
SetExpr oDonut &amp; ".kine.local.posy", _
		"5*sin(" &amp; oDonut &amp; ".kine.local.posx * 15)"
' Restore cycle checking to its previous value
SetValue "preferences.data_management.disable_cycle_checking", bCyclePref
' Remove the YPos expression and freeze Y at the value of 
' the animation expression at frame 53
printInfo oDonut &amp; ".kine.local.posy", Array( 1,50,53,100 ), "before"
RemoveAnimation oDonut &amp; ".kine.local.posy", 53
printInfo oDonut &amp; ".kine.local.posy", Array( 1,50,53,100 ), "after"
' Set current frame to 50
SetValue "PlayControl.Current", 50
' Remove XPos fcurve and freeze X at the value of the 
' fcurve at the current frame (frame 50)
printInfo oDonut &amp; ".kine.local.posx", Array( 1,50,53,100 ), "before"
RemoveAnimation oDonut &amp; ".kine.local.posx" 
printInfo oDonut &amp; ".kine.local.posx", Array( 1,50,53,100 ), "after"		
' This is a convenience function for printing out the info easily
function printInfo( in_parameter, in_frame, in_loc )
	LogMessage "-----"
	for each f in in_frame
		LogMessage in_parameter &amp; " parameter at frame " &amp; f &amp; " " _
					&amp; in_loc &amp; " updating = " &amp; GetValue( in_parameter, f )
	next
end function
' Output of above script:
' INFO : -----
' INFO : torus.kine.local.posx parameter at frame 1 before updating = 0
' INFO : -----
' INFO : torus.kine.local.posx parameter at frame 1 after updating = -30
' INFO : -----
' INFO : torus.kine.local.posx parameter at frame 100 before updating = -30
' INFO : -----
' INFO : torus.kine.local.posx parameter at frame 100 after updating = -30
' INFO : -----
' INFO : torus.kine.local.posy parameter at frame 1 before updating = -5
' INFO : torus.kine.local.posy parameter at frame 50 before updating = -0.593575239181519
' INFO : torus.kine.local.posy parameter at frame 53 before updating = 2.80044293403625
' INFO : torus.kine.local.posy parameter at frame 100 before updating = 5
' INFO : -----
' INFO : torus.kine.local.posy parameter at frame 1 after updating = 2.80044293403625
' INFO : torus.kine.local.posy parameter at frame 50 after updating = 2.80044293403625
' INFO : torus.kine.local.posy parameter at frame 53 after updating = 2.80044293403625
' INFO : torus.kine.local.posy parameter at frame 100 after updating = 2.80044293403625
' INFO : -----
' INFO : torus.kine.local.posx parameter at frame 1 before updating = -30
' INFO : torus.kine.local.posx parameter at frame 50 before updating = -0.45452999539318
' INFO : torus.kine.local.posx parameter at frame 53 before updating = 2.27079487869202
' INFO : torus.kine.local.posx parameter at frame 100 before updating = 30
' INFO : -----
' INFO : torus.kine.local.posx parameter at frame 1 after updating = -0.454529995393187
' INFO : torus.kine.local.posx parameter at frame 50 after updating = -0.454529995393187
' INFO : torus.kine.local.posx parameter at frame 53 after updating = -0.454529995393187
' INFO : torus.kine.local.posx parameter at frame 100 after updating = -0.454529995393187</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/Parameter.Disconnect.html">Parameter.Disconnect</a> <a href="#!/url=./si_cmds/AddFCurve.html">AddFCurve</a> <a href="#!/url=./si_cmds/RemoveAllAnimation.html">RemoveAllAnimation</a> <a href="#!/url=./si_cmds/SaveKey.html">SaveKey</a> <a href="#!/url=./si_cmds/RemoveKey.html">RemoveKey</a> <a href="#!/url=./si_cmds/NextKey.html">NextKey</a> <a href="#!/url=./si_cmds/PrevKey.html">PrevKey</a> <a href="#!/url=./si_cmds/FirstKey.html">FirstKey</a> <a href="#!/url=./si_cmds/LastKey.html">LastKey</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
