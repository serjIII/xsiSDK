<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>ApplyTopoOp</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>ApplyTopoOp</h1>
         </div>

<h2 class="pagehead">ApplyTopoOp</h2>

<h3>Introduced</h3>
<div><p>v1.5</p></div>

<h3>Description</h3>
<div><p>
Applies and returns a topology operator. A topology operator is an operator which modifies existing geometry, such as adding 
or removing edges. For example, BridgeEdges, 
DissolveComponent, and 
SubdividePolygon are all examples of topology operators. <br /><br />
Tip: You can also use the <a href="#!/url=./si_cmds/ApplyOp.html">ApplyOp</a> command to apply a topology operator.<br /><br />
Note: This command uses output arguments. Some scripting languages don't support arguments passed by reference 
(such as JScript, PerlScript and Python). Normally these languages can use the ISIVTCollection to get the output
arguments; however, since this command already returns a value, that particular workaround is not available 
(see <a href="#!/url=./files/OutputArgArrays.htm">About Output Argument Arrays</a> for more information).
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oReturn = ApplyTopoOp( PresetObj, [ConnectionSet], [ConnectType], [ImmediateMode], [OutputObjs], [ConstructionMode] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>
Returns an <a href="#!/url=./si_om/XSICollection.html">XSICollection</a> that contains a list of the created operators.<br /><br />
Note: If you apply the operator in ImmediateMode (which immediately freezes it), you still get a collection of 
the operators applied, but they are invalid (not connected to anything in the scene).
</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">PresetObj		</td>
		<td><a href="#!/url=./files/String.htm">String</a> or a preset object (see <a href="#!/url=./si_cmds/SIGetPreset.html">SIGetPreset</a>)		</td>
		<td>
Topology Operators		</td>
	</tr>
	<tr>
		<td class="name">ConnectionSet		</td>
		<td><a href="#!/url=./files/cnxset.htm">ConnectionSet</a>		</td>
		<td>
 Specifies the objects connected to an operator.  <br /><br />Note: Because this is an in/out parameter, any string (variable or value) you pass into this parameter is automatically converted to a ConnectionSet object.			<p class="cell"><span class="hilite">Default Value: </span>
Currently selected objects are used as the main group.<br /><br />Warning: An error occurs if the connection set is invalid. Please verify the connection set required for this operator to avoid breaking your scripts.			</p>
		</td>
	</tr>
	<tr>
		<td class="name">ConnectType		</td>
		<td><a href="#!/url=./si_om/siBranchFlag.html">siBranchFlag</a>		</td>
		<td>
 Specifies the type of connection (node or branch). 			<p class="cell"><span class="hilite">Default Value: </span>
siUnspecified			</p>
		</td>
	</tr>
	<tr>
		<td class="name">ImmediateMode		</td>
		<td><a href="#!/url=./si_om/siOperationMode.html">siOperationMode</a>		</td>
		<td>
Specifies whether or not the operator should be immediately frozen.			<p class="cell"><span class="hilite">Default Value: </span>
siPersistentOperation			</p>
		</td>
	</tr>
	<tr>
		<td class="name">OutputObjs		</td>
		<td><a href="#!/url=./si_om/XSICollection.html">XSICollection</a>		</td>
		<td>
 Returns the primitives created by the operator. For now none return an object 		</td>
	</tr>
	<tr>
		<td class="name">ConstructionMode		</td>
		<td><a href="#!/url=./si_om/siConstructionMode.html">siConstructionMode</a>		</td>
		<td>
 Specifies in which construction mode the 'Delete Edge' operator will be applied. 			<p class="cell"><span class="hilite">Default Value: </span>
Use the current construction mode			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>1. VBScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="vbscript">' Collapse some vertices on a polygon mesh.
dim obj, op
set obj = CreatePrim( "Grid", "MeshSurface" )
set op = ApplyTopoOp( "Collapse" , "grid.pnt[30-32,39-41,48-50]" )</pre></td></tr>
</table>
</div><h4>2. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">// Example demonstrating how to get use ApplyTopoOp
// to create an operator and retrieve it from the return value.
NewScene( null, false );
// Get a pointer to the internal object database. 
var objdata = XSIUtils.DataRepository;
// Apply the Collapse operator in ImmediateMode to see what gets returned.
var obj = CreatePrim( "Grid", "MeshSurface" );
var ops = ApplyTopoOp( "Collapse" , obj + ".pnt[30-32,39-41,48-50]", null, siPersistentOperation);
// Because we only apply to a single object we only expect a 
// single item in the XSICollection.  But
// it is a good habit to use a "for" loop
// to go through all elements.
for (var i=0; i&lt;ops.Count; i++) {
	logmessage( "New Operator: " + ops(i).Name +
		 ", Type: " + ops(i).Type + 
", ClassName: " + ClassName( ops(i) ) ) ;
}
// Output of above script:
//INFO : New Operator: Collapse Op ,Type: collapseop, ClassName: Operator</pre></td></tr>
</table>
</div><h4>3. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	This example demonstrates what gets returned when you apply and freeze a TopoOp with the 
	ApplyTopoOp command in siImmediateOperation mode. 
	The command still returns a pointer to the operator, but, unlike the
	example above, it no longer exists in the scene, so you can't do anything with it.
	The tricky part is testing the returned object to see whether it is valid or not. Normally you can 
	test the class or type to determine its validity; however, these operators will tell you
	that they are Operator objects (Application.ClassName). The Type property
	returns an empty string, which you can also use to test for an operator's validity, but
	this example uses the DataRepository object instead.
	The DataRepository object is an internal database which keeps track of objects in Softimage. It
	holds the ID for each object in the system which you can retrieve with the GetIdentifier
	method.
	Note: This example is only provided to illustrate what to expect from an XSICollection 
	containing frozen operators. Normally, you would not be interested in the returned value
	of an apply-and-freeze-operator operation.
*/
NewScene( null, false );
// Get a pointer to the internal object database. 
var objdata = XSIUtils.DataRepository;
// Apply the Collapse operator in ImmediateMode to see what gets returned.
var obj = CreatePrim( "Grid", "MeshSurface" );
var ops = ApplyTopoOp( "Collapse" , obj + ".pnt[30-32,39-41,48-50]", null, siImmediateOperation );
for (var i=0; i&lt;ops.Count; i++) {
	// Normally this returns 'collapseop'
	logmessage( "Type returns: '" + ops(i).Type + "'" );
	// Wrap the call to DataRepository.GetIdentifier in a try-catch block because it will
	// throw an error if the object is invalid (if it's valid, you would see a GUID)
	try {
		logmessage( objdata.GetIdentifier(ops(i), siObjectGUID) );
	} catch(e) {
		logmessage( "object is not valid" );
	}
}
// Output of above script:
//INFO : Type returns: ''
//INFO : object is not valid</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_cmds/ApplyOperator.html">ApplyOperator</a> <a href="#!/url=./si_cmds/ApplyOp.html">ApplyOp</a> <a href="#!/url=./si_cmds/ApplyGenOp.html">ApplyGenOp</a> <a href="#!/url=./si_cmds/ApplyHairOp.html">ApplyHairOp</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
