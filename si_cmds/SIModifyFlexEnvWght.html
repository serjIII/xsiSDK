<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>SIModifyFlexEnvWght</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>SIModifyFlexEnvWght</h1>
         </div>

<h2 class="pagehead">SIModifyFlexEnvWght</h2>

<h3>Introduced</h3>
<div><p>v1.0</p></div>

<h3>Description</h3>
<div><p>
Modifies the weighting of envelope points. An envelope is an object
or hierarchy that is assigned as a "skin" to a set of deformers such
as IK chains. Envelopes move and deform in response to the movements
of their deformers. In this way, for example, a character moves as you
animate its skeleton. <br /><br />
Every point in an envelope is assigned to one or more deformers. For
each point, weights control the relative influence of its deformers.<br /><br />
Note: An alternative, and potentially faster, way to set envelope weights
is via the Object Model, see <a href="#!/url=./si_om/Envelope.Weights.html">Envelope.Weights</a>.
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oReturn = SIModifyFlexEnvWght( PropObj, Name, [SubComp], [Mode], [Value], [Normalize] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>Returns an <a href="#!/url=./si_om/XSICollection.html">XSICollection</a> that contains the new envelope operators.</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">PropObj		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
 Envelope weights property to be modified.		</td>
	</tr>
	<tr>
		<td class="name">Name		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
 Name of a deformer object. Weight values relative to this object are modified. 		</td>
	</tr>
	<tr>
		<td class="name">SubComp		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
<a href="#!/url=./files/listexpr.htm">List</a> of points. 			<p class="cell"><span class="hilite">Default Value: </span>
Current selection			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Mode		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>
 Weight modification mode 			<p class="cell"><span class="hilite">Default Value: </span>
0 (Absolute)			</p>
			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">0					</td>
					<td>Absolute					</td>
				</tr>
				<tr>
					<td class="name">1					</td>
					<td>Additive					</td>
				</tr>
				<tr>
					<td class="name">2					</td>
					<td>Add Percentage					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">Value		</td>
		<td><a href="#!/url=./files/Float.htm">Float</a>		</td>
		<td>
 Weight value applied to the specified points. <br /><br />Note: The valid value range for weights is between 0 and 100.0. When you change the weight for one of the deformers, it also affects other deformer weights since the total weight is always 100%.			<p class="cell"><span class="hilite">Default Value: </span>
100.0			</p>
			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">0 to 100.0					</td>
					<td>Valid value range is between 0 and 100.0					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">Normalize		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 Normalize weights between deformers. 			<p class="cell"><span class="hilite">Default Value: </span>
True			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>VBScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="vbscript">'CreateSinusoidalEnvelope: creates an envelope over 2 Nulls,
'with a customized, special wave-like weight assignment.
'
'A generic subroutine was created; it can handle any mesh as input.
Sub CreateSinusoidalEnvelopeAssign( Object, out_Null0, out_Null1 )
'Create the two envelope "handles"
Set out_Null0 = GetPrim("Null")
Set out_Null1 = GetPrim("Null")
'Envelope the object with the 2 Nulls
Set EnvelopeWeightsAssign =_
ApplyFlexEnv(Object &amp; ";" &amp; out_Null0 &amp; "," &amp; out_Null1, False)
Set EnvelopeWeightsProperty = _
GetValue( CStr( EnvelopeWeightsAssign ) ).Owners(0)
'Reset all weights to 100% for Null0 and 0% for Null1
'(use absolute mode), with normalize ON
SIModifyFlexEnvWght EnvelopeWeightsProperty, out_Null0,_
Object &amp; ".pnt[*]", 0, 100, True
'Get object's points collection
Set Points = Object.ActivePrimitive.Geometry.Points
NbPts = Points.Count
for i = 0 to NbPts - 1
'We will set the weight of out_Null1 as
'"(1 + Sin(Z Coord of the point))*100/8" (or any formula).
'We will user the additive mode in SIModifyFlexEnvWght.
Weight = (1 + Sin(Points(i).position.z * 2.0))*50
SIModifyFlexEnvWght EnvelopeWeightsProperty, out_Null1,_
Object &amp; ".pnt[" &amp; i &amp; "]", 1, Weight
next
End Sub
'Call CreateSinusoidalEnvelopeAssign with a Grid.
'Then move one of the 2 Null deformers in order to see the effect.
NewScene
Set Grid = CreatePrim("Grid", "MeshSurface")
SetValue Grid &amp; ".polymsh.geom.subdivu", 1
SetValue Grid &amp; ".polymsh.geom.subdivv", 30
CreateSinusoidalEnvelopeAssign Grid, Null0, Null1
'Translate Null1 to see the effect of the special weighting
'You can move Null1 to see more...
Translate Null1, 3, 0.0, 0.0, siRelative, siView, siObj, siXYZ
'Let's show the weight maps so you can see what was computed:
SetDisplayMode "Views.ViewA.TopCamera", "constant"
SetValue "Views.ViewA.TopCamera.camvis.objctrlpropmaps", True
SelectObj "grid", , True</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_cmds/SIApplyFlexEnv.html">SIApplyFlexEnv</a> <a href="#!/url=./si_om/Envelope.html">Envelope</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
