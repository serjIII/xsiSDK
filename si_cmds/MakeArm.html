<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>MakeArm</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>MakeArm</h1>
         </div>

<h2 class="pagehead">MakeArm</h2>

<h3>Introduced</h3>
<div><p>v4.0</p></div>

<h3>Description</h3>
<div><p>
Creates a two bone arm and an up vector control object. The arm bones are created from a collection of guide 
objects, which should contain objects for shoulder, elbow, and hand positions respectively. A bicep bone will 
connect the shoulder and elbow objects, and a forearm bone will connect the elbow and hand objects. <br /><br />
MakeArm can optionally add roll divisions to the bicep and forearm. Divisions are used to distribute the roll 
difference between adjacent bones over the length of a bone. When used as deformers on an envelope they 
evenly distribute twist along the length of a bone giving a more natural skin deformation. Roll divisions
can also be added separately using the <a href="#!/url=./si_cmds/MakeBicepRoll.html">MakeBicepRoll</a> and <a href="#!/url=./si_cmds/MakeForearmRoll.html">MakeForearmRoll</a>
commands. If using forearm roll, create the hand before calling MakeArm so that the hand root can be passed 
as an argument.<br /><br />
Optionally a shadow rig can be attached to the arm. Shadow objects will be created for each chain element in 
the arm, and shadow arm bones will be pose constrained to the acutal arm bones. Shadow rigs can be used to 
plot animation off of a rig. 
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oArm = MakeArm( ArmParent, GuideObjectCollection, [Prefix], [ArmRootConstrainingObj], [NbForearmDivisions], [NbBicepDivisions], [ShadowType], [ShadowParent], [HandRoot], [NegativeScale] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>Returns an <a href="#!/url=./files/CDKArm.htm">Arm</a> JScript.</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">ArmParent		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The object to which the new arm will be parented.		</td>
	</tr>
	<tr>
		<td class="name">GuideObjectCollection		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
A collection of three guide objects for the shoulder, elbow, and hand respectively.		</td>
	</tr>
	<tr>
		<td class="name">Prefix		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The prefix used to name new objects when making the new arm.  Example "L", "R"		</td>
	</tr>
	<tr>
		<td class="name">ArmRootConstrainingObj		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
Object to which the arm root will be position-constrained. If not specified, no constraint is applied to the arm root.		</td>
	</tr>
	<tr>
		<td class="name">NbForearmDivisions		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>
The number of forearm roll divisions (see the <a href="#!/url=./si_cmds/MakeForearmRoll.html">MakeForearmRoll</a> command). If the value is zero there is no forearm roll			<p class="cell"><span class="hilite">Default Value: </span>
0			</p>
		</td>
	</tr>
	<tr>
		<td class="name">NbBicepDivisions		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>
The number of bicep roll divisions (see the <a href="#!/url=./si_cmds/MakeBicepRoll.html">MakeBicepRoll</a> command). If the value is zero there is no bicep roll.			<p class="cell"><span class="hilite">Default Value: </span>
0			</p>
		</td>
	</tr>
	<tr>
		<td class="name">ShadowType		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>
The type of shadow rig to attach to the arm. Shadow rigs can be used to transfer or remap animation.			<p class="cell"><span class="hilite">Default Value: </span>
0			</p>
			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">0					</td>
					<td>No shadow					</td>
				</tr>
				<tr>
					<td class="name">1					</td>
					<td>SI|3D Skeleton shadow rig					</td>
				</tr>
				<tr>
					<td class="name">2					</td>
					<td>XSI Skeleton shadow rig					</td>
				</tr>
				<tr>
					<td class="name">3					</td>
					<td>Null shadow rig					</td>
				</tr>
				<tr>
					<td class="name">4					</td>
					<td>Box shadow rig					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">ShadowParent		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
Parent of the shadow rig hiearchy.  If empty, no shadow rig is generated.		</td>
	</tr>
	<tr>
		<td class="name">HandRoot		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
Object acting as hand root, required for forearm roll division. This object must be a chain element(root,bone,effector). If empty, forearm roll division will not be applied, but bicep roll will.		</td>
	</tr>
	<tr>
		<td class="name">NegativeScale		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
Negative scaling on the chain. Negative scaling is useful for manipulating the left and right arms symmetrically.			<p class="cell"><span class="hilite">Default Value: </span>
False			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	This script creates two arms, left and right
	Left arm also has a hand bone and roll divisions.
*/
var guidecoll = new ActiveXObject("XSI.Collection");
guidecoll.Add( GetPrim("Null", "ShoulderGuide") ); 
guidecoll.Add( GetPrim("Null", "ElbowGuide") ); 
guidecoll.Add( GetPrim("Null", "HandGuide") ); 
var lXfm = guidecoll(0).Kinematics.Global.Transform
var lPos = XSIMath.CreateVector3();
/*
	Right Arm
*/
lXfm.SetTranslationFromValues(0,0,0);
guidecoll(0).Kinematics.Global.Transform = lXfm;
lXfm.SetTranslationFromValues(4,0,-2);
guidecoll(1).Kinematics.Global.Transform = lXfm;
lXfm.SetTranslationFromValues(8,0,0);
guidecoll(2).Kinematics.Global.Transform = lXfm;
var RArm = MakeArm(GetPrim("Null", "RArmParent"), guidecoll, "R",null, 0,0,0,null ,null, 0);
Logmessage("Right RArm");
DumpArm(RArm);
/*
	Left Arm
*/
lXfm.SetTranslationFromValues(0,0,0);
guidecoll(0).Kinematics.Global.Transform = lXfm;
lXfm.SetTranslationFromValues(-4,0,2);
guidecoll(1).Kinematics.Global.Transform = lXfm;
lXfm.SetTranslationFromValues(-8,0,0);
guidecoll(2).Kinematics.Global.Transform = lXfm;
var lPosStart = XSIMath.CreateVector3();
var lPosEnd = XSIMath.CreateVector3();
lPosStart.Set(-8,0,0);
lPosEnd.Set(-9,0,0);
var HandChain = ActiveSceneRoot.Add2DChain(lPosStart, lPosEnd);
var LArm = MakeArm(GetPrim("Null", "LArmParent"), guidecoll, "L",null, 4,4,0,ActiveSceneRoot,HandChain, 0);
Logmessage("Left Arm");
DumpArm(LArm);
function DumpArm(inArm)
{
	logmessage ("Data in the returned arm object:");
	logmessage ("-------------------------------");
	logmessage ("Bind Null : " + inArm.Root);
	logmessage ("Top  Null : " + inArm.Eff);
	logmessage ("Base Null : " + inArm.UpVParent);
	logmessage ("#ForeDiv  : " + inArm.ForearmDivisions);
	if(inArm.BicepDivisions &gt; 0)
	{
		for(var b=0;b&lt;inArm.ForeArmRoll.Divisions.count;b++)
		{logmessage ("  RollDif" + b + ": " + inArm.ForeArmRoll.Divisions(b));}
	}
	logmessage ("#BicepDiv : " + inArm.BicepDivisions);
	if(inArm.BicepDivisions &gt; 0)
	{
		for(var b=0;b&lt;inArm.BicepRoll.Divisions.count;b++)
		{logmessage ("  RollDif" + b + ": " + inArm.BicepRoll.Divisions(b));}
	}
	logmessage ("Upvector  : " + inArm.UpV);
	logmessage ("Hidden    : " + inArm.Hidden);
	logmessage ("Envelope  : " + inArm.Envelope);
	logmessage ("Shadows   : " + inArm.Shadows);
}
//results of running this script
//INFO : "Right RArm"
//INFO : "Data in the returned arm object:"
//INFO : "-------------------------------"
//INFO : "Bind Null : RRoot"
//INFO : "Top  Null : RArmEff"
//INFO : "Base Null : undefined"
//INFO : "#ForeDiv  : 0"
//INFO : "#BicepDiv : 0"
//INFO : "Upvector  : RArmUpV"
//INFO : "Hidden    : RRoot"
//INFO : "Envelope  : RBicep,RForearm"
//INFO : "Shadows   : undefined"
//INFO : "Left Arm"
//INFO : "Data in the returned arm object:"
//INFO : "-------------------------------"
//INFO : "Bind Null : LRoot"
//INFO : "Top  Null : LArmEff"
//INFO : "Base Null : undefined"
//INFO : "#ForeDiv  : 4"
//INFO : "  RollDif0: LElbow"
//INFO : "  RollDif1: LForearmRoll"
//INFO : "  RollDif2: LForearmRoll1"
//INFO : "  RollDif3: LForearmRoll2"
//INFO : "#BicepDiv : 4"
//INFO : "  RollDif0: LBicepRoll1"
//INFO : "  RollDif1: LBicepRoll2"
//INFO : "  RollDif2: LBicepRoll3"
//INFO : "  RollDif3: LBicepRoll4"
//INFO : "  RollDif4: LBicepRoll_5"
//INFO : "Upvector  : LArmUpV"
//INFO : "Hidden    : LRoot"
//INFO : "Envelope  : LBicepRoll1,LBicepRoll2,LBicepRoll3,LBicepRoll4,LBicepRoll_5,LElbow,LForearmRoll,LForearmRoll1,LForearmRoll2"
//INFO : "Shadows   : undefined"
//</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_cmds/MakeForearmRoll.html">MakeForearmRoll</a> <a href="#!/url=./si_cmds/MakeBicepRoll.html">MakeBicepRoll</a> <a href="#!/url=./si_cmds/MakeHand.html">MakeHand</a> <a href="#!/url=./si_cmds/MakeJointCompression.html">MakeJointCompression</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
