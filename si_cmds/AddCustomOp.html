<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>AddCustomOp</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>AddCustomOp</h1>
         </div>

<h2 class="pagehead">AddCustomOp</h2>

<h3>Introduced</h3>
<div><p>v5.1</p></div>

<h3>Description</h3>
<div><p>
Creates an instance of a Self-Installed Custom Operator and connects it to the specified 
inputs and outputs. 
<br /><br />
This command is a convenient way to instantiate most self-installed custom operators,
because it combines the functionality of calls to <a href="#!/url=./si_om/CustomOperator.AddInputPort.html">CustomOperator.AddInputPort</a>,
<a href="#!/url=./si_om/CustomOperator.AddOutputPort.html">CustomOperator.AddOutputPort</a>, <a href="#!/url=./si_om/CustomOperator.AddIOPort.html">CustomOperator.AddIOPort</a>,
and <a href="#!/url=./si_om/Operator.Connect.html">Operator.Connect</a> in a single command. 
<br /><br />
The objects in the input and output lists must be the specific data that that the operator 
will read or write.  For example it is illegal to specify an <a href="#!/url=./si_om/X3DObject.html">X3DObject</a> as 
the input or output, but objects of type <a href="#!/url=./si_om/Cluster.html">Cluster</a>, <a href="#!/url=./si_om/Property.html">Property</a>, 
<a href="#!/url=./si_om/Parameter.html">Parameter</a>, <a href="#!/url=./si_om/Primitive.html">Primitive</a> or <a href="#!/url=./si_om/KinematicState.html">KinematicState</a> 
can all be valid connections. 
<br /><br />
This command is only suitable for creating operators that are defined inside a self-installed 
plug-in.  To instantiate a Preset-based operator use <a href="#!/url=./si_cmds/ApplyOp.html">ApplyOp</a>.  To instantiate 
a runtime operator use <a href="#!/url=./si_cmds/AddScriptedOp.html">AddScriptedOp</a>. 
<br /><br />
This command creates all the connections by adding <a href="#!/url=./si_om/Port.html">Port</a>s to a single 
<a href="#!/url=./si_om/PortGroup.html">PortGroup</a> and assumes that all the objects to be connected to the operator 
already exist in the scene.  
<br /><br />
Note: To define a more dynamic operator that uses more than one PortGroup, it is necessary to use 
the more advanced methods on the <a href="#!/url=./si_om/CustomOperator.html">CustomOperator</a> object rather than this command.
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oReturn = AddCustomOp( Type, OutputObjs, [InputObjs], [Name], [ConstructionMode] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>The newly created <a href="#!/url=./si_om/CustomOperator.html">CustomOperator</a>.</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">Type		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>

		Name of the Self-Installed <a href="#!/url=./si_om/PluginItem.html">PluginItem</a> that implements the 
		<a href="#!/url=./si_om/Operator.html">Operator</a>.  This command will fail if the plug-in is not installed.
			</td>
	</tr>
	<tr>
		<td class="name">OutputObjs		</td>
		<td><a href="#!/url=./files/listexpr.htm">List</a>		</td>
		<td>

		The output connections for the operator.  If nothing is specified the current 
		<a href="#!/url=./si_om/Selection.html">Selection</a> is used.  Most operators only connect to a single Output object.
			</td>
	</tr>
	<tr>
		<td class="name">InputObjs		</td>
		<td><a href="#!/url=./files/listexpr.htm">List</a>		</td>
		<td>

		The input connections for the operator.  If nothing is specified then the operator 
		will have no inputs.
				<p class="cell"><span class="hilite">Default Value: </span>
"" (empty list)			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Name		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The name of the new operator.			<p class="cell"><span class="hilite">Default Value: </span>
If not specified the Type argument will be used to name the operator.			</p>
		</td>
	</tr>
	<tr>
		<td class="name">ConstructionMode		</td>
		<td><a href="#!/url=./si_om/siConstructionMode.html">siConstructionMode</a>		</td>
		<td>

		Specifies under which construction mode the operator will be applied. This 
		only applies to output connections made to <a href="#!/url=./si_om/Geometry.html">Geometry</a> objects, 
		the mode will be ignored for all other types of connections.
				<p class="cell"><span class="hilite">Default Value: </span>
Use the current construction mode			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>1. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	Create an operator called "DemoOp". The type of the operator is "EmptyOp", which 
	is a very basic operator that does nothing.
	This operator reads from a Local transform of a Null and the Geometry of a Sphere 
	and outputs to the Global transform of another Null
*/
NewScene( null, false );
var oOutput = ActiveSceneRoot.AddNull( "Out" ).Kinematics.Global ;
var oInput1 = ActiveSceneRoot.AddNull( "In1" ).Kinematics.Local ;
var oInput2 = ActiveSceneRoot.AddGeometry( "Sphere", "MeshSurface", "In2" ).ActivePrimitive ;
var oOp = AddCustomOp(
				"EmptyOp", 
				oOutput, 
				[oInput1,oInput2], 
				"DemoOp" 
			) ;</pre></td></tr>
</table>
</div><h4>2. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	Create an operator called DemoParamOp that outputs to the PosX parameter of
	the global transform of a null.
	This operator is of type "EmptyOp" and it has no inputs so its only effect 
	is to force the value of the parameter to remain at 0.0
*/
NewScene( null, false );
var oOutput = ActiveSceneRoot.AddNull( "Out" ).Kinematics.Global.Parameters( "posx" ) ;
var oOp = AddCustomOp( 
				"EmptyOp", 
				oOutput, 
				null, 
				"DemoParamOp" 
			) ;</pre></td></tr>
</table>
</div><h4>3. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	Create an operator called DemoManyInputs that reads from the visibility 
	property of ten nulls and outputs to the geometry of a Grid. Because it 
	uses the EmptyOp operator, it does nothing.
*/
var oInputs = new ActiveXObject( "XSI.Collection" ) ;
for ( var i = 0 ; i &lt; 10 ; i++ )
{
	var oNull = ActiveSceneRoot.AddNull( "Input" + i ) ;
	oInputs.Add( oNull.Properties( "Visibility" ) ) ;
}
var oGrid = ActiveSceneRoot.AddGeometry( "grid", "MeshSurface", "Output" ) ;
SelectObj( oGrid.ActivePrimitive ) ;
AddCustomOp( 
		"EmptyOp",
		null,			// Softimage will use the selection
		oInputs, 
		"DemoManyInputs" 	) ;</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/Parameter.AddCustomOp.html">Parameter.AddCustomOp</a> <a href="#!/url=./si_om/ProjectItem.AddCustomOp.html">ProjectItem.AddCustomOp</a> <a href="#!/url=./si_cmds/AddScriptedOp.html">AddScriptedOp</a> <a href="#!/url=./si_cmds/ApplyOp.html">ApplyOp</a> <a href="#!/url=./si_om/CustomOperator.html">CustomOperator</a> <a href="#!/url=./si_om/PluginRegistrar.RegisterOperator.html">PluginRegistrar.RegisterOperator</a> <a href="#!/url=./si_om/XSIFactory.CreateObject.html">XSIFactory.CreateObject</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
