<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>MakeShadowSpine</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>MakeShadowSpine</h1>
         </div>

<h2 class="pagehead">MakeShadowSpine</h2>

<h3>Introduced</h3>
<div><p>v4.0</p></div>

<h3>Description</h3>
<div><p>
Traces a shadow hierarchy (a chain or null hierarchy) on top of an existing spine. Shadow objects 
are created and pose-constrained for each vertebra in the spine.
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oShadow = MakeShadowSpine( Spline, Base, Vertebra, TopVertebra, ShadowParent, [ChestTop], [IconScale], [ShadowType], [ShadowCharacterSetName] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>Returns a <a href="#!/url=./files/CDKShadow.htm">Shadow</a> JScript object.</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">Spline		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The Spline object of the spine to be traced.		</td>
	</tr>
	<tr>
		<td class="name">Base		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The base object (hip) of the spine to be traced.		</td>
	</tr>
	<tr>
		<td class="name">Vertebra		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
A collection of the vertebrae on the spine to be traced.		</td>
	</tr>
	<tr>
		<td class="name">TopVertebra		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The top vertebra object (chest) on the spine to be traced.		</td>
	</tr>
	<tr>
		<td class="name">ShadowParent		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The parent of the new Shadow hierarchy.		</td>
	</tr>
	<tr>
		<td class="name">ChestTop		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>

		(optional) The chest top object of the spine to be traced.  If empty it is assumed the
		spine was generated without this option.
			</td>
	</tr>
	<tr>
		<td class="name">IconScale		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
The scale value of the spine.  Used to control the icon scale of the shadow skeleton.			<p class="cell"><span class="hilite">Default Value: </span>
1.0			</p>
		</td>
	</tr>
	<tr>
		<td class="name">ShadowType		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>

		The type of Shadow tracing to be drawn. For convenience the numbers align with the UI options 
		for the Shadow type on the default rig generators.  Box Shadows are not traced here, but are
		done as components because they need to make assumptions about the volume of each component.
				<p class="cell"><span class="hilite">Default Value: </span>
1			</p>
			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">0					</td>
					<td>No shadow					</td>
				</tr>
				<tr>
					<td class="name">1					</td>
					<td>SI|3D Skeleton shadow rig					</td>
				</tr>
				<tr>
					<td class="name">2					</td>
					<td>XSI Skeleton shadow rig					</td>
				</tr>
				<tr>
					<td class="name">3					</td>
					<td>Null shadow rig					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">ShadowCharacterSetName		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
The name of the character set that should be used for this chain.			<p class="cell"><span class="hilite">Default Value: </span>
""			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	Make a spine with 3 vertebrae, then attach
	a skeleton shadow to it
*/
var Base 	= GetPrim("Null", "Base"); 
var Top  	= GetPrim("Null", "Top"); 
var Depth 	= GetPrim("Null", "Depth"); 
var TopDepth= GetPrim("Null", "TopDepth"); 
/*
	Make Spine
*/
var lXfm = XSIMath.CreateTransform();
lXfm.SetTranslationFromValues(0,0,0);
Base.Kinematics.Global.Transform = lXfm;
lXfm.SetTranslationFromValues(0,8,0);
Top.Kinematics.Global.Transform = lXfm;
lXfm.SetTranslationFromValues(0,2,0);
Depth.Kinematics.Global.Transform = lXfm;
lXfm.SetTranslationFromValues(0,6,0);
TopDepth.Kinematics.Global.Transform = lXfm;
var Spine = MakeSpine(	ActiveSceneRoot, 	//model 
				ActiveSceneRoot, 	//parent
				3,			//number of vertebrae
				0, 			//quat spine with polygon vertebrae
				false,			//non-stretchy
				Base, Top,
				Depth,TopDepth);
/*
	Make Shadow
*/
var ShadowSpine = MakeShadowSpine(Spine.Curve, Spine.base, Spine.Vertebra, Spine.TopVertebra, ActiveSceneRoot,Spine.chestTop);
DumpShadowSpine(ShadowSpine);
function DumpShadowSpine(inShadowSpine)
{
	logmessage ("Data in the returned spine object:");
	logmessage ("---------------------------------");
	logmessage ("Spline      : " + inShadowSpine.Spline);
	logmessage ("TopVertebra : " + inShadowSpine.TopVertebra );
	logmessage ("Scale       : " + inShadowSpine.Scale);
	logmessage ("Parent      : " + inShadowSpine.Parent);
	logmessage ("#ShadowObj  : " + inShadowSpine.Shadows.count);
	for(var b=0;b&lt;inShadowSpine.Shadows.count;b++)
		{logmessage ("  Shadow" + b + ": " + inShadowSpine.Shadows(b));}
	logmessage ("#EnvelopeObj: " + inShadowSpine.	Envelope.count);
	for(var b=0;b&lt;inShadowSpine.Envelope.count;b++)
		{logmessage ("  EnvelopeObj" + b + ": " + inShadowSpine.Envelope(b));}
	logmessage ("#Vertebrae  : " + inShadowSpine.Vertebra.count);
	for(var b=0;b&lt;inShadowSpine.Vertebra.count;b++)
		{logmessage ("  Vertebra" + b + ": " + inShadowSpine.Vertebra(b));}
	logmessage ("#UpVectors  : " + inShadowSpine.UpVectors.count);
	for(var b=0;b&lt;inShadowSpine.UpVectors.count;b++)
		{logmessage ("  UpVector" + b + ": " + inShadowSpine.UpVectors(b));}
}
//results from running this script:
//INFO : "Data in the returned spine object:"
//INFO : "---------------------------------"
//INFO : "Spline      : crvlist"
//INFO : "TopVertebra : TopVertebra"
//INFO : "Scale       : 1"
//INFO : "Parent      : Scene_Root"
//INFO : "#ShadowObj  : 6"
//INFO : "  Shadow0: SpineRoot"
//INFO : "  Shadow1: Spine1"
//INFO : "  Shadow2: Spine2"
//INFO : "  Shadow3: Spine3"
//INFO : "  Shadow4: Chest"
//INFO : "  Shadow5: ChestEffector"
//INFO : "#EnvelopeObj: 0"
//INFO : "#Vertebrae  : 3"
//INFO : "  Vertebra0: Vertebra"
//INFO : "  Vertebra1: Vertebra1"
//INFO : "  Vertebra2: Vertebra2"
//INFO : "#UpVectors  : 4"
//INFO : "  UpVector0: Shadow_upVa"
//INFO : "  UpVector1: Shadow_upVa1"
//INFO : "  UpVector2: Shadow_upVa2"
//INFO : "  UpVector3: Shadow_upVa3"</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_cmds/MakeShadowChain.html">MakeShadowChain</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
