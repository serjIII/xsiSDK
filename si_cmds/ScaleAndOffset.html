<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>ScaleAndOffset</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_cmds/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_cmds/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>ScaleAndOffset</h1>
         </div>

<h2 class="pagehead">ScaleAndOffset</h2>

<h3>Description</h3>
<div><p>
Offsets or scales the animation of the specified objects by offsetting (stretching) or 
scaling (shrinking) the portion of an fcurve between a start and end 
frame using a specified pivot point, then translating the resulting scaled fcurve portion. 
You can use this command to change the timing of all animation in a scene at once. <br /><br />
By default, the ripple effect is active, meaning that the region offsets other keys that are 
further along on the timeline (to the right). The rest of the function curve is moved to the 
right of the inserted region, causing a ripple effect. You can turn this feature off by setting 
the Ripple argument to False. <br /><br /> 
ScaleAndOffset is the command equivalent of moving or scaling a keyframe region in the dopesheet. 
It should be used when trying to emulate dopesheet behaviour. The <a href="#!/url=./si_cmds/Sequence.html">Sequence</a> 
command is similar in effect but is the command equivalent of doing Animation > Sequence Animation. 
When emulating Animation > Sequence Animation behaviour, use <a href="#!/url=./si_cmds/Sequence.html">Sequence</a> instead.<br /><br />
Note: If the Layer argument is set to -1 (All layers), the command will modify the parameters
on all layers, even on those locked. For each parameter on a locked animation layer that is modified
by this command, a warning will be logged to inform the user the locked animation layer(s) have been modified.
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>ScaleAndOffset( [InputObjs], [Type], [Offset], [Scale], [StartFrame], [EndFrame], [Pivot], [Ripple], Mode, [Discrete Time], [SelectedKeysOnly], [Layer] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">InputObjs		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>
<a href="#!/url=./files/listexpr.htm">List</a> of animatable parameters 
		(for example "cone*/kine.local.pos"). This parameter uses the Type parameter to
		interpret which parameters to use in this way: <br /><br />
		- If Type == siInputParameters then InputObjs is used exactly as input (either from the 
		specified list or the animatable parameters on the selected objects). <br /><br />
		- If Type == siAnimatedParameters then InputObjs is expected to be a list of objects on
		which each animatable parameter will be affected. <br /><br />
		- If Type == siAllAnimatedParameters then the value of InputObjs is ignored and instead
		the command uses all animated parameters on all objects in the entire scene.
				<p class="cell"><span class="hilite">Default Value: </span>
 
		If no value is specified for this parameter, the Object List will use the selected
		objects or parameters respecting the scope indicated by the Type argument.
				</p>
		</td>
	</tr>
	<tr>
		<td class="name">Type		</td>
		<td><a href="#!/url=./si_om/siParameterScope.html">siParameterScope</a>		</td>
		<td>
 Parameter scope of the operation.			<p class="cell"><span class="hilite">Default Value: </span>
siAnimatedParameters			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Offset		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 Value of the offset you want to apply to the fcurve(s). <br /><br />Value range -Inf, +Inf		</td>
	</tr>
	<tr>
		<td class="name">Scale		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 Value of the scaling factor you want to apply to the fcurve(s). <br /><br />Value range 0, +Inf		</td>
	</tr>
	<tr>
		<td class="name">StartFrame		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 Start frame of the region of the fcurve(s) you want to operate. <br /><br />Value range -Inf, +Inf		</td>
	</tr>
	<tr>
		<td class="name">EndFrame		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 End frame of the region of the fcurve(s) you want to operate. <br /><br />Value range -Inf, +Inf		</td>
	</tr>
	<tr>
		<td class="name">Pivot		</td>
		<td><a href="#!/url=./files/Double.htm">Double</a>		</td>
		<td>
 Pivot frame is the frame w.r.t which you wish to scale. <br /><br />Value range 0, +Inf		</td>
	</tr>
	<tr>
		<td class="name">Ripple		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 Ripple effect of resulting fcurve.			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">0					</td>
					<td>False					</td>
				</tr>
				<tr>
					<td class="name">1					</td>
					<td>True					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">Mode		</td>
		<td><a href="#!/url=./si_om/siSequenceMode.html">siSequenceMode</a>		</td>
		<td>
 Affected items for SequenceAll only. 			<p class="cell"><span class="hilite">Default Value: </span>
siFCurvesAnimationSources			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Discrete Time		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 Make sure that all the keys will fall on frames.			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">0					</td>
					<td>False					</td>
				</tr>
				<tr>
					<td class="name">1					</td>
					<td>True					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">SelectedKeysOnly		</td>
		<td><a href="#!/url=./files/Boolean.htm">Boolean</a>		</td>
		<td>
 
		True to scale and offset only the selected keys within the timerange (from StartFrame to EndFrame). To create or modify a key selection, 
		use the <a href="#!/url=./si_cmds/SelectKeysInTimespan.html">SelectKeysInTimespan</a> command. <br /><br /> 
		By default (false), this command operates on all keys within the timerange.
				<p class="cell"><span class="hilite">Default Value: </span>
False			</p>
			<table cellpadding="5" cellspacing="5">
				<tr>
					<td>						<p class="cell"><span class="hilite">Possible Values: </span>						</p>					</td>
					<td>						<p class="cell"><span class="hilite">Description: </span>						</p>					</td>
				</tr>
				<tr>
					<td class="name">0					</td>
					<td>False					</td>
				</tr>
				<tr>
					<td class="name">1					</td>
					<td>True					</td>
				</tr>
			</table>
		</td>
	</tr>
	<tr>
		<td class="name">Layer		</td>
		<td><a href="#!/url=./files/Integer.htm">Integer</a>		</td>
		<td>

		Animation layer to scale and offset. If the Type parameter is set to siAllAnimatedParameters,
		this argument is ignored and the default value is used (all layers).
			<p class="cell"><span class="hilite">Default Value: </span>
All layers (-1)			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>VBScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="vbscript">'
' Create a cube and a null with identical animation,
' then scale the cube's animation by half and offset it 50 frames.
'
dim oNull,oCube
set oCube = CreatePrim("Cube", "MeshSurface")
oCube.length = 1
set oNull = GetPrim("Null")
AddToMarking "kine.local.pos.posx,kine.local.pos.posz"
Translate oNull, -3, 0, 3, siAbsolute, siView, siObj, siXYZ
SaveKey ,1
Translate oNull, 0, 0, -3, siAbsolute, siView, siObj, siXYZ
SaveKey , 50
Translate oNull, 3, 0, 3, siAbsolute, siView, siObj, siXYZ
SaveKey , 100
'copy null's animation over to the cube
CopyAllAnimation2 oNull, siAnySource, siAllParam, False
PasteAllAnimation oCube
'
' Now Scale and offset the cube animation
' The begining of the animation is offset to frame 50
' and the entire sequence is scaled by 0.5 
'
ScaleAndOffset oCube, siAnimParams, 50, 0.5, 1, 100, 1, True, , False
'
' The cube will stay at its initial position till
' frame 50, then catch up to the null
'
PlayForwardsFromStart</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/FCurve.html">FCurve</a> <a href="#!/url=./si_cmds/Sequence.html">Sequence</a> <a href="#!/url=./si_cmds/ActivateFCurve.html">ActivateFCurve</a> <a href="#!/url=./si_cmds/SelectKeysInTimespan.html">SelectKeysInTimespan</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
