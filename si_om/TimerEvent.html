<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>TimerEvent</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_om/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_om/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>TimerEvent</h1>
         </div>

<h2 class="pagehead">TimerEvent</h2>

<p><a href="#!/url=./si_om/_hier.html#oh_TimerEvent">Object Hierarchy</a> | Related C++ Class: <a href="#!/url=./si_cpp/classXSI_1_1TimerEvent.html">TimerEvent</a></p>

<h3>Inheritance<h3>
<p class="level1"><a href="#!/url=./si_om/SIObject.html">SIObject</a></p>
<p class="level2"><a href="#!/url=./si_om/EventInfo.html">EventInfo</a></p>
<p class="level3">TimerEvent</p>

<h3>Introduced</h3>
<div><p>v5.1</p></div>

<h3>Description</h3>
<div><p> A TimerEvent represents a system timer and allows you to specify the interval 
and the delay time at which a timer elapses. Timers in Softimage are independent 
of the timeline clock and can be used to produce recurrent work accurately. For
example, you can implement an autosave mechanism with a TimerEvent.
<br /><br />
The TimerEvent object derives from <a href="#!/url=./si_om/EventInfo.html">EventInfo</a> and can be managed like 
a regular Softimage event. Use <a href="#!/url=./si_om/PluginRegistrar.RegisterTimerEvent.html">PluginRegistrar.RegisterTimerEvent</a> 
to register them and <a href="#!/url=./si_om/XSIApplication.EventInfos.html">XSIApplication.EventInfos</a> to access them. Timer 
events can be suspended with muting and resumed by un-muting (see 
<a href="#!/url=./si_om/EventInfo.Mute.html">EventInfo.Mute</a>). You can reset a timer with <a href="#!/url=./si_om/TimerEvent.Reset.html">TimerEvent.Reset</a>.
<br /><br />
Note: Timer events are based on Windows timers and are processed by Softimage with a low 
priority. Although they can be set with milliseconds accuracy, timer events can 
sometimes be delayed due to the current activity of Softimage. 
</p></div>

<h3>Methods</h3>
<div><p><table>
	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.IsClassOf.html">IsClassOf</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.IsEqualTo.html">IsEqualTo</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/TimerEvent.Reset.html">Reset</a>		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Properties</h3>
<div><p><table>
	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Application.html">Application</a>		</td>		<td class="members"><a href="#!/url=./si_om/EventInfo.Attributes.html">Attributes</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Categories.html">Categories</a>		</td>		<td class="members"><a href="#!/url=./si_om/EventInfo.CustomData.html">CustomData</a>		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/TimerEvent.Delay.html">Delay</a>		</td>		<td class="members"><a href="#!/url=./si_om/EventInfo.FileName.html">FileName</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.FullName.html">FullName</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/EventInfo.Handler.html">Handler</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Help.html">Help</a>		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/TimerEvent.Interval.html">Interval</a>		</td>		<td class="members"><a href="#!/url=./si_om/EventInfo.Language.html">Language</a>		</td>		<td class="members"><a href="#!/url=./si_om/EventInfo.Mute.html">Mute</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Name.html">Name</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.NestedObjects.html">NestedObjects</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Origin.html">Origin</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.OriginPath.html">OriginPath</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Parent.html">Parent</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Type.html">Type</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	This example demonstrates how to register a timer event and to change its
values.
	To try out this example save it into the Plugins directory 
	(User, Factory or Workgroup). Once you have restarted Softimage, the current 
	scene will be saved automatically every 15 secs.
	( You can also load the plug-in without restarting Softimage - see
	XSIApplication.LoadPlugin )
*/
function XSILoadPlugin( in_reg )
{
	in_reg.Author = "Softimage SDK Team" ;
	in_reg.Name = "SDK Example - Save scene timer" ;
	in_reg.Major = 1 ;
	in_reg.Minor = 0 ;
	// Register the save scene timer. The timer elapses every 15 secs. (0==no delay)
	in_reg.RegisterTimerEvent( "AutoSaveSceneTimer", 15000, 0 );
	in_reg.RegisterProperty( "AutoSaveProp" );
	in_reg.RegisterMenu( siMenuMainTopLevelID, "Auto Save Demo", true, false );
	return true ;
}
function AutoSaveSceneTimer_OnEvent( ctxt )
{		
	// Save current scene
	Application.SaveScene( );
	// Log time
	var strFileName = ActiveProject.ActiveScene.Parameters("Filename").Value;
	var today = new Date();
	var strTime = today.toDateString();
	strTime += ", " + today.toTimeString();
	Application.LogMessage( "&lt;"+strFileName+"&gt;" + " saved on " + strTime );
	// Do not mute the timer
	return false;
}
function GetAutoSaveProp( )
{
	var strName = "AutoSaveProp";
	var root = ActiveSceneRoot;
	var prop = root.Properties.Item( strName ) ;
	if ( prop == null )
	{
		return root.AddProperty( strName );
	}
	else
	{
		return prop ;
	}
}
function AutoSaveDemo_Init( in_ctxt )
{
	var menu = in_ctxt.source;
	menu.AddCallbackItem( "Launch Auto Save Demo", "ShowAutoSaveProp" );
	return true;
}
function ShowAutoSaveProp( )
{
	InspectObj( GetAutoSaveProp( ), "", "", siLock );
}
function AutoSaveProp_Define( ctxt )
{
	var pset;
	pset = ctxt.Source;
	pset.AddParameter2("Auto_Save_Interval",siInt4,15,0,50,null,null,0,siPersistable);
	pset.AddParameter2("Auto_Save_Delay",siInt4,0,0,50,null,null,0,siPersistable);
	pset.AddParameter2("Auto_Save_Scene",siBool,true,null,null,null,null,0,siPersistable);
	return true;
}
function AutoSaveProp_DefineLayout( ctxt )
{
	var layout,oItem;
	layout = ctxt.Source;
	layout.Clear();
	layout.AddGroup();
	layout.AddItem("Auto_Save_Interval", "Interval (secs)" );
	layout.AddItem("Auto_Save_Delay", "Delay (secs)" );
	layout.EndGroup();
	layout.AddGroup();
	layout.AddRow( );
	layout.AddButton( "Auto_Save_Reset","Reset Timer" ) ;
	layout.AddGroup();
	layout.EndGroup();
	layout.AddItem( "Auto_Save_Scene", "Enable" );
	layout.EndRow( );	
	layout.EndGroup();
	return true;
}
function AutoSaveProp_OnInit( ctxt )
{
	var evTimer = Application.EventInfos( "AutoSaveSceneTimer" );
	var p = PPG.Auto_Save_Interval;
	p.Value = evTimer.Interval / 1000;
	p = PPG.Auto_Save_Delay;
	p.Value = evTimer.Delay / 1000;
}
//--------------------------------------------------------------------------
// Reset Timer button callback to restart the Auto Save timer with new values
//--------------------------------------------------------------------------
function AutoSaveProp_Auto_Save_Reset_OnClicked()
{
	var p = PPG.Auto_Save_Interval;
	var interval = p.Value * 1000;
	p = PPG.Auto_Save_Delay;
	var delay = p.Value * 1000;
	var evTimer = Application.EventInfos( "AutoSaveSceneTimer" );
	evTimer.Reset( interval, delay );
	// update the UI
	PPG.Auto_Save_Scene.Value = true;	
} 
//--------------------------------------------------------------------------
// Start/Stop the AutoSaveSceneTimer timer.
//--------------------------------------------------------------------------
function AutoSaveProp_Auto_Save_Scene_OnChanged( )
{
	var paramVal = PPG.Auto_Save_Scene.Value;
	var evTimer = Application.EventInfos( "AutoSaveSceneTimer" );
	evTimer.Mute = paramVal==false;
}</pre></td></tr>
</table>
</div></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></h3></h3></div>
   </div></body>
</html>
