<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>CustomOperator.AddIOPort</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_om/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_om/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>CustomOperator.AddIOPort</h1>
         </div>

<h2 class="pagehead"><a href="#!/url=./si_om/CustomOperator.html">CustomOperator</a>.AddIOPort</h2>

<h3>Introduced</h3>
<div><p>v4.0</p></div>

<h3>Description</h3>
<div><p> Adds an <a href="#!/url=./si_om/InputPort.html">InputPort</a> and an <a href="#!/url=./si_om/OutputPort.html">OutputPort</a> to the custom operator. 
This is equivalent to calling <a href="#!/url=./si_om/CustomOperator.AddOutputPort.html">CustomOperator.AddOutputPort</a> followed by 
<a href="#!/url=./si_om/CustomOperator.AddInputPort.html">CustomOperator.AddInputPort</a>.
<br /><br />
Note: Having both an output and input connection is very important for correct functioning of 
deformation operators and other operators that modify the existing state of an object.  Otherwise 
the operator will not co-exist properly with other operators. That is, although there will be two 
ports representing the same object, they may point to different copies of that object, so it is 
important that the operator reads the object state exclusively via the input and changes the object 
through the output.
</p></div>

<h3>C# Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>PortCollection CustomOperator.AddIOPort( Object in_PortTarget, String in_PortName, Int32 in_portgroup, Int32 in_InsertAt, Int32 in_flags );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oReturn = CustomOperator.AddIOPort( PortTarget, [PortName], [PortGroup], [InsertAt], [Flags] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p>The newly created input and output ports in a <a href="#!/url=./si_om/PortCollection.html">PortCollection</a> object.</p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">PortTarget		</td>
		<td><a href="#!/url=./files/Variant.htm">Variant</a>		</td>
		<td>

		Object or expression representing the object to connect to the port. Softimage will 
		remember the full name of the object, but this can be overridden at connection 
		time to connect to a different object (see <a href="#!/url=./si_om/Operator.Connect.html">Operator.Connect</a> 
		and <a href="#!/url=./si_om/Operator.ConnectToGroup.html">Operator.ConnectToGroup</a>).
			</td>
	</tr>
	<tr>
		<td class="name">PortName		</td>
		<td><a href="#!/url=./files/String.htm">String</a>		</td>
		<td>

		The name of the ports. If a name is not specified then the names of the input 
		and output ports are created automatically. The input port has "In" prefixed 
		to the name plus the <a href="#!/url=./si_om/Parameter.ScriptName.html">Parameter.ScriptName</a> of the object 
		connected to the port. The output port is the same but with the prefix "Out".
				<p class="cell"><span class="hilite">Default Value: </span>
"" (empty string)			</p>
		</td>
	</tr>
	<tr>
		<td class="name">PortGroup		</td>
		<td><a href="#!/url=./files/Long.htm">Long</a>		</td>
		<td>
Index of the port group.			<p class="cell"><span class="hilite">Default Value: </span>
-1 (add to end of port groups)			</p>
		</td>
	</tr>
	<tr>
		<td class="name">InsertAt		</td>
		<td><a href="#!/url=./files/Long.htm">Long</a>		</td>
		<td>
Index of the port at a specific index.			<p class="cell"><span class="hilite">Default Value: </span>
-1 (add to end of ports within port group)			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Flags		</td>
		<td><a href="#!/url=./files/Long.htm">Long</a>		</td>
		<td>
Mask of port group flags described by <a href="#!/url=./si_om/siPortFlags.html">siPortFlags</a>.			<p class="cell"><span class="hilite">Default Value: </span>
0			</p>
		</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	This example illustrates how to use the AddIOPort method to define 
	an input/output port.
*/
NewScene( null, false );
var obj = CreatePrim( "Cube", "MeshSurface");
var sop = XSIFactory.CreateScriptedOp( "MyOperator", MyOperator_Update.toString(), "JScript" )
sop.AddIOPort( obj.ActivePrimitive );
sop.Connect();
// The operator's update function
function MyOperator_Update( ctx, out, in1 ) 
{
	Application.LogMessage( "MyOperator_Update: " + out.Value );
	var aPos = in1.Value.Geometry.Points.PositionArray.toArray();
	out.Value.Geometry.Points.PositionArray = aPos;
}</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/CustomOperator.AddIOPortByClassID.html">CustomOperator.AddIOPortByClassID</a> <a href="#!/url=./si_cmds/AddCustomOp.html">AddCustomOp</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
