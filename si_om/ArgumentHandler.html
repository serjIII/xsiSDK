<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>ArgumentHandler</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_om/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_om/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>ArgumentHandler</h1>
         </div>

<h2 class="pagehead">ArgumentHandler</h2>

<p><a href="#!/url=./si_om/_hier.html#oh_ArgumentHandler">Object Hierarchy</a> | Related C++ Class: <a href="#!/url=./si_cpp/classXSI_1_1ArgumentHandler.html">ArgumentHandler</a></p>

<h3>Inheritance<h3>
<p class="level1"><a href="#!/url=./si_om/SIObject.html">SIObject</a></p>
<p class="level2">ArgumentHandler</p>

<h3>Introduced</h3>
<div><p>v4.0</p></div>

<h3>Description</h3>
<div><p> An argument handler is an object that helps determine the
value that is passed to a command.  Argument handlers
come into play when a command is invoked without providing a explicit value
for an argument, or when the argument that was provided requires some
processing before it can be sent to the command.  For example the
"Collection" argument handler can turn a string-based list of objects
into a <a href="#!/url=./si_om/XSICollection.html">XSICollection</a> representing those objects.<br /><br />
Argument handlers are widely used on built-in commands, and can be specified 
for custom commands (see <a href="#!/url=./si_om/ArgumentCollection.AddWithHandler.html">ArgumentCollection.AddWithHandler</a>).
They make it easier to implement flexible custom commands, and reduce the amount 
of error handling necessary inside the command implementation.<br /><br />
Once specified as part of the command definition they act behind the scenes during the
process of the command invocation.  Neither the caller nor the implementation need to 
explicitly manipulate ArgumentHandler objects.<br /><br />
Note: Internally the state of an argument handler is stored in the value of 
the argument. For this reason a call to <a href="#!/url=./si_om/Argument.Handler.html">Argument.Handler</a> clears 
any existing <a href="#!/url=./si_om/Argument.Value.html">Argument.Value</a>.
</p></div>

<h3>Methods</h3>
<div><p><table>
	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.IsClassOf.html">IsClassOf</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.IsEqualTo.html">IsEqualTo</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Properties</h3>
<div><p><table>
	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Application.html">Application</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Categories.html">Categories</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.FullName.html">FullName</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Help.html">Help</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Name.html">Name</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.NestedObjects.html">NestedObjects</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Origin.html">Origin</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.OriginPath.html">OriginPath</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Parent.html">Parent</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Type.html">Type</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">//Jscript example demonstrating how to use the Argument Handlers.
//It also shows how the implementation of Custom Command can
//be embedded directly inside the definition.
RemoveCommands() ;
InstallCommands() ;	
DemoCommands() ;
function DemoCommands()
{
	// First set up a little scenario to
	// show how the arg handlers will react
	newscene(null,false) ;
	var oGrid1 = ActiveSceneRoot.AddGeometry( "Grid","MeshSurface","G1" ) ;
	var oGrid2 = ActiveSceneRoot.AddGeometry( "Grid","MeshSurface","G2" ) ;
	var oGrid3 = ActiveSceneRoot.AddGeometry( "Grid","MeshSurface","G3" ) ;
	SelectObj( oGrid1 ) ;
	/////////////////////////////////////////////////////////////
	// Collection Arg Handler
	/////////////////////////////////////////////////////////////
	//If we provide no argument then the current selection
	//is passed as the argument:
	DemoCollectionArgHandler() ;
	//Result:
	//INFO : "DemoCollectionArgHandler called with 1 items"
	//INFO : "		Item 0 : G1"
	// Also very useful for turning string names of objects into
	// an XSICollection
	DemoCollectionArgHandler( "G1,G2" );
	//Result:
	// "DemoCollectionArgHandler called with 2 items"
	// "		Item 0 : G1"
	// "		Item 1 : G2"
	/////////////////////////////////////////////////////////////
	// SingleObj Arg Handler
	/////////////////////////////////////////////////////////////
	// The SingleObj arg handler is very
	// useful for converting from
	// a string to a object.  This is widely
	// used in Softimage internal commands
	DemoSingleObjArgHandler( "G1" ) ;
	//Result: "DemoSingleObjArgHandler called with G1(Type: polymsh)"
	// Of course if you already have the object pointer it
	// is identical to the above call, but even faster to do this:
	// In this case the arg handler has nothing to do:
	DemoSingleObjArgHandler( oGrid1 ) ;
	//Result: "DemoSingleObjArgHandler called with G1(Type: polymsh)"
	/////////////////////////////////////////////////////////////
	// FrameRate Arg Handler
	/////////////////////////////////////////////////////////////
	// Change the current framerate to film (24fps)
	SetValue("PlayControl.Format", 7, null);
	DemoFrameRateArgHandler() ;
	//Result : "DemoFrameRateArgHandler called with 24"
	// If you call with an specific value then
	// the ArgHandler does nothing
	DemoFrameRateArgHandler( 12.5 ) ;
	//Result : "DemoFrameRateArgHandler called with 12.5"
	/////////////////////////////////////////////////////////////
	// Frame Arg Handler
	/////////////////////////////////////////////////////////////
	SetValue("PlayControl.Current", 33, null);
	// This arghandler is very useful for commands
	// that normally operate on the current frame
	// but which could also be used to process a different
	// frame.
	//
	// By default the current frame is passed as the argument
	DemoFrameArgHandler() ;
	//Result : "DemoFrameArgHandler called with 33"
	// but the user can override
	DemoFrameArgHandler( 99 ) ;
	/////////////////////////////////////////////////////////////
	// MarkedParameters ArgHandler
	/////////////////////////////////////////////////////////////
	// This handler is very useful for collecting information
	// about which parameters have been marked on the currently
	// Selected objects
	//
	// Select the name and subdivu parameters on all three grids
	SelectObj( oGrid1 ) ;
	AddToSelection( oGrid2 ) ;
	AddToSelection( oGrid3 ) ;
	SetMarking( "Name" ) ;
	AddToMarking( "polymsh.geom.subdivu" ) ;
	// Remove G2 from the list, to demonstrate that even though
	// it also has marked parameters these are not passed in
	RemoveFromSelection( oGrid2 ) ;
	DemoMarkedParametersArgHandler() ;
	//Results:
	// "		Item 0 : G1.Name"
	// "		Item 1 : G1.polymsh.geom.subdivu"
	// "		Item 2 : G3.Name"
	// "		Item 3 : G3.polymsh.geom.subdivu"
	//and the command is logged in the history like this:
	//DemoMarkedParametersArgHandler("G1.Name,G1.polymsh.geom.subdivu,G3.Name,G3.polymsh.geom.subdivu");
	// You can also pass the marked parameters as a string.
	var bigMarkingString = "G1.Name," +
						  "G1.polymsh.geom.subdivu," +
						  "G2.Name," +
						  "G2.polymsh.geom.subdivu," +
						  "G3.Name," +
						  "G3.polymsh.geom.subdivu"		
	DemoMarkedParametersArgHandler(bigMarkingString);	
	// There is a short form using the "/" character
	// which is equivalent to the previous call:
	DemoMarkedParametersArgHandler("G1,G2,G3/name,polymsh.geom.subdivu");
	//Results:	
	// "DemoMarkedParametersArgHandler called with 6 items"
	// "		Item 0 : G1.Name"
	// "		Item 1 : G1.polymsh.geom.subdivu"
	// "		Item 2 : G2.Name"
	// "		Item 3 : G2.polymsh.geom.subdivu"
	// "		Item 4 : G3.Name"
	// "		Item 5 : G3.polymsh.geom.subdivu"
	/////////////////////////////////////////////////////////////
	// MarkedParameters ArgHandler
	/////////////////////////////////////////////////////////////
	// This handler is almost exactly the same as the 
	// MarkedParameter arg handler, except that it
	// will strip out the non-animatable parameters
	// that have been marked.  In this case it doesn't
	// pass the "G1.Name" and "G3.Name" parameters that have been
	// marked
	DemoAnimatableParametersArgHandler() ;	
	//Results:	
	// "DemoMarkedParametersArgHandler called with 2 items"
	// "		Item 0 : G1.polymsh.geom.subdivu"
	// "		Item 1 : G3.polymsh.geom.subdivu"
	//You can also pass a string and the same sort of 
	//shortcut works:
	DemoAnimatableParametersArgHandler("G1.polymsh.geom/subdivu,subdivv") ;	
	//Results:	
	// "DemoMarkedParametersArgHandler called with 2 items"
	// "		Item 0 : G1.polymsh.geom.subdivu"
	// "		Item 1 : G1.polymsh.geom.subdivv"
}
function RemoveCommands()
{
	Application.RemoveCommand( "DemoCollectionArgHandler" ) ;
	Application.RemoveCommand( "DemoSingleObjArgHandler" ) ;
	Application.RemoveCommand( "DemoFrameRateArgHandler" ) ;
	Application.RemoveCommand( "DemoFrameArgHandler" ) ;
	Application.RemoveCommand( "DemoMarkedParametersArgHandler" ) ;
	Application.RemoveCommand( "DemoAnimatableParametersArgHandler" ) ;
}
function InstallCommands()
{
	InstallArgDemoCommand( 
		"DemoCollectionArgHandler", 
		"Collection",
		OnDemoCollectionArgHandler.toString() ) ;
	InstallArgDemoCommand( 
		"DemoSingleObjArgHandler", 
		"SingleObj",
		OnDemoSingleObjArgHandler.toString() ) ;
	InstallArgDemoCommand( 
		"DemoFrameRateArgHandler", 
		"FrameRate",
		OnDemoFrameRateArgHandler.toString() ) ;
	InstallArgDemoCommand( 
		"DemoFrameArgHandler", 
		"Frame",
		OnDemoFrameArgHandler.toString() ) ;
	InstallArgDemoCommand( 
		"DemoMarkedParametersArgHandler", 
		"MarkedParameters",
		OnDemoMarkedParametersArgHandler.toString() ) ;
	InstallArgDemoCommand( 
		"DemoAnimatableParametersArgHandler", 
		"AnimatableParameters",
		OnDemoAnimatableParametersArgHandler.toString() ) ;
}
function InstallArgDemoCommand( in_Name, in_ArgHandlerName, in_Code )
{
	var oCmd = Application.CreateCommand( in_Name ) ;
	// Same as ScriptName
	oCmd.ScriptingName = in_Name ;	
	// Same of the routine to call inside the "in_Code" argument
	// We use a naming scheme based on command name
	oCmd.Handler = "On" + in_Name ; 
	// Embed the code rather than referring to file
	oCmd.Code = in_Code ;		
	oCmd.Language = "JScript" ;
	oCmd.ReturnValue = true ;
	oCmd.Arguments.AddWithHandler( "Arg", in_ArgHandlerName ) ;
	Application.AddCommand( oCmd ) ;
}
//
// Command implementations
//
function OnDemoCollectionArgHandler( in_arg )
{
	// We recieve a Selection object or an
	// XSICollection.  In either case we use the Count and Item
	// properties to access the items.
	Logmessage( "DemoCollectionArgHandler called with " + in_arg.Count + " items" ) ;
	for ( i = 0 ; i &lt; in_arg.Count ; i++ )
	{
		Logmessage( "\t\tItem " + i + " : " + in_arg.Item(i).FullName ) ;
	}
	return in_arg ;
}
function OnDemoSingleObjArgHandler( in_arg )
{
	Logmessage( "DemoSingleObjArgHandler called with " + in_arg.Name + 
				"(Type: " + in_arg.Type + ")" ) ;
	return in_arg ;
}
function OnDemoFrameRateArgHandler( in_arg )
{
	// Unless the user calls with a specific value for the argument
	// we get the current frame rate
	Logmessage( "DemoFrameRateArgHandler called with " + in_arg ) ;
	return in_arg ;
}
function OnDemoFrameArgHandler( in_arg )
{
	// Unless the user calls with a specific value for the argument
	// we get the current frame rate
	Logmessage( "DemoFrameArgHandler called with " + in_arg ) ;
	return in_arg ;
}
function OnDemoMarkedParametersArgHandler( in_arg )
{
	// We recieve a XSICollection with the Marked parameters 
	// on the selected objects
	Logmessage( "DemoMarkedParametersArgHandler called with " + in_arg.Count + " items" ) ;
	for ( i = 0 ; i &lt; in_arg.Count ; i++ )
	{
		Logmessage( "\t\tItem " + i + " : " + in_arg.Item(i).FullName ) ;
	}
	return in_arg ;
}
function OnDemoAnimatableParametersArgHandler( in_arg )
{
	// We recieve a XSICollection with the Animatable Marked parameters 
	// on the selected objects
	Logmessage( "DemoMarkedParametersArgHandler called with " + in_arg.Count + " items" ) ;
	for ( i = 0 ; i &lt; in_arg.Count ; i++ )
	{
		Logmessage( "\t\tItem " + i + " : " + in_arg.Item(i).FullName ) ;
	}
	return in_arg ;
}</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/Command.html">Command</a> <a href="#!/url=./si_om/Argument.html">Argument</a> <a href="#!/url=./si_om/ArgumentCollection.html">ArgumentCollection</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></h3></h3></div>
   </div></body>
</html>
