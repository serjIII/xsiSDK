<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>Parameter.AddFCurve</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_om/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_om/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>Parameter.AddFCurve</h1>
         </div>

<h2 class="pagehead"><a href="#!/url=./si_om/Parameter.html">Parameter</a>.AddFCurve</h2>

<h3>Description</h3>
<div><p> Creates and connects an <a href="#!/url=./si_om/FCurve.html">FCurve</a> to a <a href="#!/url=./si_om/Parameter.html">Parameter</a> object, and 
optionally adds keys.  If no type argument is specified, then the type of fcurve added will 
be based on the parameter's type (which is configured in the parameter's definition). You can 
override the default fcurve type associated with a parameter by adding the SPDL attribute 
'FCurveType = Standard;' or 'FCurveType = Integer;'.
<br /><br />
By default standard fcurves will be created for parameters of type: siDouble, siFloat, siInt4, 
siInt2, siByte, siUInt4, siUInt2 and siUByte (see <a href="#!/url=./si_om/siVariantType.html">siVariantType</a> for further 
details on types). If the parameter represents a boolean, then a boolean fcurve will be created.
<br /><br />
For the JScript-compliant version of this method, see <a href="#!/url=./si_om/Parameter.AddFCurve2.html">Parameter.AddFCurve2</a>.
</p></div>

<h3>C# Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>FCurve Parameter.AddFCurve( Object in_Type, Object in_Interpolation, Object in_Extrapolation, Object in_KeyDataArray );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Scripting Syntax</h3>
<div><p><table>
	<tr>
		<td class="example"><pre>oReturn = Parameter.AddFCurve( [Type], [Interpolation], [Extrapolation], [KeyDataArray] );</pre>		</td>	</tr>
</table>
</p></div>

<h3>Return Value</h3>
<div><p><a href="#!/url=./si_om/FCurve.html">FCurve</a></p></div>

<h3>Parameters</h3>
<div><p><table cellpadding="5" cellspacing="5">
	<tr>
		<th title="Name of the parameter">Parameter		</th>
		<th title="Data type">Type		</th>
		<th title="Description of the parameter">Description		</th>
	</tr>
	<tr>
		<td class="name">Type		</td>
		<td><a href="#!/url=./si_om/siFCurveType.html">siFCurveType</a>		</td>
		<td>
 The type of the FCurve.			<p class="cell"><span class="hilite">Default Value: </span>
defined by parameter type			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Interpolation		</td>
		<td><a href="#!/url=./si_om/siFCurveInterpolation.html">siFCurveInterpolation</a>		</td>
		<td>
 The interpolation of the FCurve 			<p class="cell"><span class="hilite">Default Value: </span>
defined by parameter type			</p>
		</td>
	</tr>
	<tr>
		<td class="name">Extrapolation		</td>
		<td><a href="#!/url=./si_om/siFCurveExtrapolation.html">siFCurveExtrapolation</a>		</td>
		<td>
 The extrapolation of the FCurve 			<p class="cell"><span class="hilite">Default Value: </span>
defined by parameter type			</p>
		</td>
	</tr>
	<tr>
		<td class="name">KeyDataArray		</td>
		<td><a href="#!/url=./files/Variant.htm">Variant</a>		</td>
		<td>

		The structure of the array is defined by the previous parameters and the number keys. The array must be 
		either 1-dimensional or 2-dimensional.  For 2-dimensional arrays, the first dimension defines the values 
		for each key; the second defines the number of keys.
		<br /><br />
		It is necessary to explicitly define the tangency for standard fcurves that use the default key interpolation 
		or specify cubic interpolation. For standard fcurves using constant and linear key interpolation, 2 values 
		are defined for each key: the key time in frames, and the key value at that frame.  
		<br /><br />
		To specify the tangency there must be 6 values defined for each key in the following order: the key time 
		in frames, the key value at that frame, the left tangent time in frames relative to the key time (must be 
		a negative value), the left tangent value relative to key value, the right tangent time in frames relative 
		to key time (must be a positive value), and the right tangent value relative to key value. 
		<br /><br />
		In order to allow tangents to be set exactly as specified the auto tangent constraint is turned off. This may 
		lead to an invalid curve depending on the tangent values but allows the tangents to be set as specified. If 
		empty values are specified for tangency values the default tangents are calculated. 
		<br /><br />
		You can specify tangents for fcurves using constant or linear key interpolation although this is optional
		and is only used if the key interpolation is changed to cubic.
		<br /><br />
		The curve handles must never extend past the value of the neighboring key frames.  When the tangency is 
		explicitly defined, the tangent values must reflect this fact.  Passing "Empty" for the tangents in the case 
		of the cubic fcurves, and not having to specify them in the case of linear and constant fcurves, ensures that 
		the tangents for the correct handles are automatically calculated.  The left and right tangents of a fcurve 
		can be set to any real value; however, in order to preserve the functional characteristic of the curve, these 
		tangents are subject to change.  The values are automatically changed and a different fcurve is drawn if the 
		original chosen values do not generate a curve that is also a valid function on the x and y axes.  By definition 
		an fcurve is a function, and therefore must have the property that for every value of x there exists a unique y 
		value.  Visually, this means that any vertical line drawn along the domain of x can only pass through the curve 
		once.  A minimal rule to guarantee that this functional property holds for a curve is to ensure that the right 
		tangent of a given key is less than or equal to the left tangent of the successive key.  It is possible that the 
		right tangent can be moved past this point and the fcurve is still valid, but anything past this point and the 
		tangent values are subject to change.  Furthermore, to ensure the functionality of an fcurve, the right tangent 
		of a given key must always be greater than or equal to the value of the key itself and the left tangent must be 
		less than or equal to the key.  There are no constraints on the y axis.  
		<br /><br />
		For boolean fcurves you don't need to specify the tangency; the only values you need to define are the key time, 
		which can have any real value, and the key value, which can have value "1" or "0".  Note that "True" and "False" 
		are not valid parameters and "1" and "0" must respectively be used as representative values.      
			</td>
	</tr>
</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>1. VBScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="vbscript">'
'	This example demonstrates how to create a standard fcurve with tangents automationally
'	calculated.
'
NewScene , False
set oCube = Application.ActiveSceneRoot.AddGeometry( "Cube","MeshSurface" )
dim aKeyData : aKeyData = array( 1.00, 5.00, Empty, Empty, Empty, Empty, 100.00, 6.00, Empty, Empty, Empty, Empty )
set f = oCube.posx.AddFCurve( , , , aKeyData )
' Write the fcurve keys (assuming standard fcurve)
for each k in f.Keys
	Application.LogMessage k.Name &amp;" Value: " &amp; k.Value
	Application.LogMessage k.Name &amp;" Locked: " &amp; k.Locked
	Application.LogMessage k.Name &amp;" Left: " &amp; k.Left
	Application.LogMessage k.Name &amp;" Right: " &amp; k.Right
	Application.LogMessage k.Name &amp;" LeftTanX: " &amp; k.LeftTanX
	Application.LogMessage k.Name &amp;" LeftTanY: " &amp; k.LeftTanY
	Application.LogMessage k.Name &amp;" RightTanX: " &amp; k.RightTanX
	Application.LogMessage k.Name &amp;" RightTanY: " &amp; k.RightTanY
	Application.LogMessage k.Name &amp;" Interpolation: " &amp; k.Interpolation
	Application.LogMessage k.Name &amp;" Flags: " &amp; k.Flags
next</pre></td></tr>
</table>
</div><h4>2. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	This example demonstrates how to create a standard fcurve with linear interpolation
*/
NewScene( null, false );
var cube = Application.ActiveSceneRoot.AddGeometry( "Cube", "MeshSurface" );
var aKeyData = Array
(
	1.00, 5.00, 
	100.00, 6.00
)
// Create a standard fcurve with linear interpolation. Notice that you
// only specify time/value pairs for the keydata.
var fc = cube.posx.AddFCurve( null, siLinearInterpolation, null, aKeyData );</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/Parameter.Source.html">Parameter.Source</a> <a href="#!/url=./si_om/Parameter.AddFCurve2.html">Parameter.AddFCurve2</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
