<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>Filter</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_om/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_om/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>Filter</h1>
         </div>

<h2 class="pagehead">Filter</h2>

<p><a href="#!/url=./si_om/_hier.html#oh_Filter">Object Hierarchy</a> | Related C++ Class: <a href="#!/url=./si_cpp/classXSI_1_1Filter.html">Filter</a></p>

<h3>Inheritance<h3>
<p class="level1"><a href="#!/url=./si_om/SIObject.html">SIObject</a></p>
<p class="level2">Filter</p>

<h3>Introduced</h3>
<div><p>v4.0</p></div>

<h3>Description</h3>
<div><p> The Filter object represents an instance of a Softimage filter. Filters are used by
Softimage interactive tools and OM objects for validating the use of a set of 
objects in a given context. Softimage already defines a set of native filters 
available to users and can be extended with custom filter objects. <br /><br />
Custom filters are defined with a plug-in which can be either compiled or scripted (see 
<a href="#!/url=./files/cus_addons.htm">Building and Deploying Customizations</a> 
for a detailed workflow). The mapping between a Filter object and a custom filter 
plug-in is transparent to the user, each method of the Filter object maps to a
specific function callback supplied by the custom filter. The callback functions 
are documented with each method of the Filter object, please refer to these 
methods documentation for further details.<br /><br />
The <a href="#!/url=./si_om/siFilterType.html">siFilterType</a> enum lists the supported filter types (the 
type of a filter specifies what  the filter does; for example, a filter of type 
<a href="#!/url=./si_om/siFilterType.html#siFilter3DObject">siFilter3DObject</a> filters 3D objects).<br /><br />
The <a href="#!/url=./si_om/FilterConstant.html">FilterConstant</a> enum lists the built-in filters that you can use.<br /><br />
Like native filters, custom filters can also be used with other base filter 
functions defined in the SDK such as <a href="#!/url=./si_cmds/SIFilter.html">SIFilter</a>, 
<a href="#!/url=./si_om/X3DObjectCollection.Filter.html">X3DObjectCollection.Filter</a>, etc...
</p></div>

<h3>Methods</h3>
<div><p><table>
	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Filter.IsApplicable.html">IsApplicable</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.IsClassOf.html">IsClassOf</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.IsEqualTo.html">IsEqualTo</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Filter.Match.html">Match</a>		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Filter.Subset.html">Subset</a>		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Properties</h3>
<div><p><table>
	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Application.html">Application</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Categories.html">Categories</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.FullName.html">FullName</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Help.html">Help</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Name.html">Name</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.NestedObjects.html">NestedObjects</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Origin.html">Origin</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.OriginPath.html">OriginPath</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Parent.html">Parent</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Type.html">Type</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>1. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">// display all filters defined in Softimage
var app = Application;
var filterArray = app.Filters;
for (var i=0; i&lt;filterArray.Count; i++)
{
	app.LogMessage( filterArray(i).Name );
}
// sample filter tests
var root = app.ActiveSceneRoot;
var sphere = root.AddGeometry( "Sphere", "MeshSurface", "sphere" );
TestFilter( "Object", root );
TestFilter( "PolygonMesh", sphere );	
var arr = root.Children;
var strTest = root.Name + " children";
TestFilter2( "Object", strTest, arr );
TestFilter2( "Light", strTest, arr );
TestFilter2( "Camera", strTest, arr );
TestFilter2( "PolygonMesh", strTest, arr );
arr = root.Properties;
strTest = root.Name + " properties";
TestFilter2( "Object", strTest, arr );
TestFilter2( "Light", strTest, arr );
// helper functions for logging filter operations results
function TestFilter( in_strFilter, in_ref )
{
	var app = Application;
	var filter = app.Filters( in_strFilter );	
	var bApplicable = filter.IsApplicable(in_ref);
	var bMatch = filter.Match(in_ref);	
	app.LogMessage( "*** Filter: " + filter.Name );
	app.LogMessage( "   Target: " + in_ref.Name );
	app.LogMessage( "   Applicable: " + bApplicable );
	app.LogMessage( "   Match: " + bMatch );
}
function TestFilter2( in_strFilter, in_strTest, in_arr )
{
	var app = Application;
	var filter = app.Filters( in_strFilter );	
	var bApplicable = filter.IsApplicable(in_arr);
	var bMatch = filter.Match(in_arr);	
	var subArray = filter.Subset(in_arr);
	app.LogMessage( "*** Filter: " + filter.Name );
	app.LogMessage( "   Target: " + in_strTest + " count: " + in_arr.Count );	
	app.LogMessage( "   Applicable: " + bApplicable );
	app.LogMessage( "   Match: " + bMatch );
	app.LogMessage( "   Subset: " + subArray.Count );
}
// Output will include items like this:
//INFO : "object"
//INFO : "Null"
//INFO : "Curve"
//INFO : "PolygonMesh"
//INFO : "SurfaceMesh"
//INFO : "Implicit"
// etc...
//INFO : "*** Filter: object"
//INFO : "   Target: Scene_Root"
//INFO : "   Applicable: true"
//INFO : "   Match: true"
//INFO : "*** Filter: PolygonMesh"
//INFO : "   Target: sphere"
//INFO : "   Applicable: true"
//INFO : "   Match: true"
//INFO : "*** Filter: object"
//INFO : "   Target: Scene_Root children count: 3"
//INFO : "   Applicable: true"
//INFO : "   Match: true"
//INFO : "   Subset: 3"
//INFO : "*** Filter: Light"
//INFO : "   Target: Scene_Root children count: 3"
//INFO : "   Applicable: true"
//INFO : "   Match: false"
//INFO : "   Subset: 1"
//INFO : "*** Filter: Camera"
//INFO : "   Target: Scene_Root children count: 3"
//INFO : "   Applicable: true"
//INFO : "   Match: false"
//INFO : "   Subset: 0"
//INFO : "*** Filter: PolygonMesh"
//INFO : "   Target: Scene_Root children count: 3"
//INFO : "   Applicable: true"
//INFO : "   Match: false"
//INFO : "   Subset: 1"
//INFO : "*** Filter: object"
//INFO : "   Target: Scene_Root properties count: 5"
//INFO : "   Applicable: true"
//INFO : "   Match: true"
//INFO : "   Subset: 5"
//INFO : "*** Filter: Light"
//INFO : "   Target: Scene_Root properties count: 5"
//INFO : "   Applicable: true"
//INFO : "   Match: false"
//INFO : "   Subset: 0"</pre></td></tr>
</table>
</div><h4>2. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">//--------------------------------------------------------------------
// JScript example of the Large Mesh filter implementation for  
// IsApplicable and Match. The plug-in is used for filtering polygon 
// mesh geometries  containing more than 50 points. Note: The 
// IsApplicable function is not required for the filter to work.
//
// Copy and paste the example into the script editor and run (F5).
//
// The filter will now be listed in the Main Control Panel (MCP) 
// filter list.
//-------------------------------------------------------------------
function IsLargeMesh( in_object )
{
	if ( ClassName(in_object) != "X3DObject") {		
		return;
	}
	return (in_object.ActivePrimitive.Geometry.Points.Count &gt; 50);
}
function LargeMesh_Match( in_context )
{
	return IsLargeMesh(in_context.GetAttribute("Input"));
}
function LargeMesh_IsApplicable( in_context )
{
	var obj = in_context.GetAttribute("Input")
	return (ClassName(obj) == "X3DObject" );
}
function LargeMesh_Subset( in_context )	
{
	var coll = XSIFactory.CreateActiveXObject("XSI.Collection");
	var in_objects = in_context.GetAttribute("Input");
	var eObjects = new Enumerator(in_objects);
	for (;!eObjects.atEnd();eObjects.moveNext())
	{
		var obj = eObjects.item();
		if (IsLargeMesh(obj)) 
		{
			coll.Add(obj);
		}
	}
	in_context.SetAttribute("Output", coll);
	return (coll.Count &gt; 0);
}
//--------------------------------------------------------------------
//The Large Mesh filter is registered in Softimage by defining the following 
//entry-point in your plug-in implementation file:
//--------------------------------------------------------------------
function XSILoadPlugin( in_reg )
{
	// register plug-in information
	in_reg.Author = "Softimage Co.";
	in_reg.Name = "Filter Example";
	// register filter plug-in item
	in_reg.RegisterFilter("LargeMesh", siFilter3DObject);
	return true;
}
//--------------------------------------------------------------------
// Code to bootstrap example into system
//--------------------------------------------------------------------
function ExampleSourceCode()
{
	return "// XSISDK Doc Example" + "\n" + 
	 	IsLargeMesh.toString() + "\n" + 
	 	LargeMesh_Match.toString() + "\n" + 
	 	LargeMesh_IsApplicable.toString() + "\n" + 
	 	LargeMesh_Subset.toString() + "\n" + 
	 	XSILoadPlugin.toString();
}
// if we are running from script editor save code to 
// examples addon folder in the user's directory.
if (GetUserPref("ScriptingSessionActive"))
{
	var ex_name 	= "ExFilter";
	var ex_subfolder 	= "Plugins";
	var ex_folder 	= "XSISDKDocExamples";
	var ex_langsuffix	= ".js";
	CreateAddonDirectories( InstallationPath(siUserPath), ex_folder );
	var fso = XSIFactory.CreateActiveXObject("Scripting.FileSystemObject");
	var filename = XSIUtils.BuildPath( 
		InstallationPath(siUserAddonPath), 
		ex_folder,
		"Application",
		ex_subfolder,
		ex_name+ex_langsuffix );
	if (!fso.FileExists(filename))
	{
		var f = fso.CreateTextFile ( filename );
		f.write( ExampleSourceCode() );
		f.close();
		Application.LoadPlugin(filename);	
	}
}</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_cmds/SIFilter.html">SIFilter</a> <a href="#!/url=./si_cmds/SetSelFilter.html">SetSelFilter</a> <a href="#!/url=./si_om/ClusterCollection.Filter.html">ClusterCollection.Filter</a> <a href="#!/url=./si_om/X3DObject.FindChild.html">X3DObject.FindChild</a> <a href="#!/url=./si_om/X3DObject.FindChildren.html">X3DObject.FindChildren</a> <a href="#!/url=./si_om/siFilterType.html">siFilterType</a> <a href="#!/url=./si_om/PluginRegistrar.RegisterFilter.html">PluginRegistrar.RegisterFilter</a> <a href="#!/url=./si_om/ConstructionHistory.Filter.html">ConstructionHistory.Filter</a> <a href="#!/url=./si_om/ConstructionHistory.Find.html">ConstructionHistory.Find</a> <a href="#!/url=./si_om/XSIApplication.Filters.html">XSIApplication.Filters</a> <a href="#!/url=./si_cmds/callbacks.html">Definition Callbacks for Filters</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></h3></h3></div>
   </div></body>
</html>
