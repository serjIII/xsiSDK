<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>PPGLayout</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_om/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_om/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>PPGLayout</h1>
         </div>

<h2 class="pagehead">PPGLayout</h2>

<p><a href="#!/url=./si_om/_hier.html#oh_PPGLayout">Object Hierarchy</a> | Related C++ Class: <a href="#!/url=./si_cpp/classXSI_1_1PPGLayout.html">PPGLayout</a></p>

<h3>Introduced</h3>
<div><p>v4.0</p></div>

<h3>Description</h3>
<div><p> The PPGLayout object represents the visual appearance of an object's state when it is 
inspected.  (PPG is a common acronym for Property Page). The layout makes it possible 
to group objects together, use special controls, hide obsolete parameters, add Buttons 
and in general create a presentation of an object's state that is pleasing to the eye.
<br /><br />
A Layout is modeled in Softimage as a linear list of <a href="#!/url=./si_om/PPGItem.html">PPGItem</a> objects. 
Each PPGItem represents either a parameter in the inspected object, or a special UI item 
like a Tab or Button.  In most cases the layout does not specify hard-coded pixel positions 
or dimensions for the PPGItems.  Instead Softimage automatically draws the controls with 
a sensible layout.  This allows the presentation to change in a pleasing manner when the 
user resizes the property page.  However there is some support for providing hints, for 
example <a href="#!/url=./si_om/PPGItem.WidthPercentage.html">PPGItem.WidthPercentage</a>, or even explicit sizes via 
<a href="#!/url=./si_om/PPGItem.SetAttribute.html">PPGItem.SetAttribute</a>.
<br /><br />
Many different controls are available for use on a property page, see <a href="#!/url=./si_om/siPPGControlType.html">siPPGControlType</a>. 
All controls can be added using <a href="#!/url=./si_om/PPGLayout.AddItem.html">PPGLayout.AddItem</a> but convenience methods 
are provided for some of the most common controls, for example <a href="#!/url=./si_om/PPGLayout.AddColor.html">PPGLayout.AddColor</a>.
<br /><br />
Practically every built-in Softimage object has its own layout.  However, if there is no specific 
layout, Softimage displays a default layout that lists all the parameters in a simple fashion.
<br /><br />
Layouts are remembered in memory while Softimage is running.  For internal objects they are 
reloaded from SPDL files when Softimage restarts.  The layout for a <a href="#!/url=./si_om/CustomProperty.html">CustomProperty</a> 
object implemented as a <a href="#!/url=./si_om/PluginItem.html">PluginItem</a> is defined by implementing the DefineLayout 
callback.
<br /><br />
You cannot directly modify an existing layout structure, apart from adding new items at the 
end or changing the attributes of items already in the layout. However to modify a layout it 
is often reasonable to call <a href="#!/url=./si_om/PPGLayout.Clear.html">PPGLayout.Clear</a> and then rebuild the entire 
layout with the changes included.  You can also use the <a href="#!/url=./si_om/Parameter.Enable.html">Parameter.Enable</a>
method to hide parameters without removing them from the layout.
<br /><br />
If the layout is changed from within Logic code (see <a href="#!/url=./si_om/PPGLayout.Logic.html">PPGLayout.Logic</a>)
it is necessary to call <a href="#!/url=./si_om/PPG.Refresh.html">PPG.Refresh</a> to see the changes take effect.
<br /><br />
Normally the layout is associated with an object that remains in the scene.  However it is 
also possible to use this object to define the user interface of a temporary dialog box. 
For example a script can ask the user to specify some import or export options. This is done 
in conjunction with a temporary <a href="#!/url=./si_om/CustomProperty.html">CustomProperty</a> object and the 
<a href="#!/url=./si_cmds/InspectObj.html">InspectObj</a> command.  This approach is demonstrated in the following examples.
</p></div>

<h3>Methods</h3>
<div><p><table>
	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddButton.html">AddButton</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddColor.html">AddColor</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddEnumControl.html">AddEnumControl</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddFCurve.html">AddFCurve</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddGroup.html">AddGroup</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddItem.html">AddItem</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddRow.html">AddRow</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddSpacer.html">AddSpacer</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddStaticText.html">AddStaticText</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddString.html">AddString</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.AddTab.html">AddTab</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.Clear.html">Clear</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.Delete.html">Delete</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.EndGroup.html">EndGroup</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.EndRow.html">EndRow</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.GetAttribute.html">GetAttribute</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.SetAttribute.html">SetAttribute</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.SetViewPosition.html">SetViewPosition</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.SetViewSize.html">SetViewSize</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Properties</h3>
<div><p><table>
	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.Count.html">Count</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.Item.html">Item</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.Language.html">Language</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.Logic.html">Logic</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.ViewPosition.html">ViewPosition</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/PPGLayout.ViewSize.html">ViewSize</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>1. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/*
	This example demonstrates a typical use of a custom pset with custom layout as a way of 
	collecting some information from the user.
*/
// Step 1: Create a custom pset and define the data on it
var oPSet=ActiveSceneRoot.AddProperty("CustomProperty",false,"Demo") ;
// Color is made up of 4 components
oPSet.AddParameter3( "MyR", siDouble ) ;
oPSet.AddParameter3( "MyG", siDouble ) ;
oPSet.AddParameter3( "MyB", siDouble ) ;
oPSet.AddParameter3( "MyA", siDouble ) ;
oPSet.AddParameter3( "EnumCtrl", siInt4, 4 ) ;
// Step 2: Put the items on the layout with a custom UI
var oPPGLayout = oPSet.PPGLayout ;
oPPGLayout.AddGroup( "Pick a Color" ) ;
var oItem = oPPGLayout.AddColor( "MyR", "",true ) ;
oItem.SetAttribute("NoLabel", true ) ;
oPPGLayout.EndGroup() ;
oPPGLayout.AddEnumControl( "EnumCtrl", new Array( "item 1", 4, "item 2", 6 ), "Choice",  siControlCombo ) ;
// Step 3: Show the user the dialog.  They can change the
// parameter values and then click OK or Cancel
try {
	InspectObj( oPSet, "", "Check out this layout created from scripting", siModal );
	// Step 4: Read the values and do something with them.  Normally this
	//	would be where you call a custom command which does the operation
	Application.LogMessage( "User picked the color (" + oPSet.Parameters("MyR").Value + ","  + oPSet.Parameters("MyG").Value + "," 
		+ oPSet.Parameters("MyB").Value + ","  + oPSet.Parameters("MyA").Value + ")" ) ;		
	if ( oPSet.Parameters( "EnumCtrl" ).Value == 4 ) {
		Application.LogMessage( "User selected item 1" ) ;
	} else {
		Application.LogMessage( "User selected item 2" ) ;
	}
} catch( e ) {
	// Tip: rather than using try/catch, you can specify false
	// as the 5th argument to InspectObj and it will not throw an exception
	Application.LogMessage( "User Cancelled" );
}
//Step 5: Remove the pset now that we are done with it
DeleteObj( oPSet ) ;</pre></td></tr>
</table>
</div><h4>2. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">/* 
	A demonstration of the Number Control on a Custom Property Set. The number control 
	normally appears as a [Animation Divot] [Label] [Edit+Slider Control] but this 
	example demonstrates how this appearance can be controlled. It also shows how to 
	change the range of a parameter. All these changes can be made dynamically.
*/
NewScene( null, false ) ;
var oCustomProperty = ActiveSceneRoot.AddProperty( "CustomProperty", false, "NumberControlTester" ) ;
// Add a parameter of type double.  
// It has the min/max values of -1000 to 1000,
// default value of -1.0, and ui range -100 to 100
var oGridParam = oCustomProperty.AddParameter2( "number", siDouble, -1.0, -1000.0, 1000.0, -100.0, 100.0, siClassifUnknown, siPersistable | siAnimatable ) ;
// Add the Edit boxes and other controls that will
// be used to get information from the user
oCustomProperty.AddParameter3( "setLabel", siString, "NewLabel" ) ;
oCustomProperty.AddParameter3( "setNoLabel", siBool, false,null,null,false) ;
oCustomProperty.AddParameter3( "setValueOnly", siBool, false,null,null,false) ;
oCustomProperty.AddParameter3( "setNoSlider", siBool, false,null,null,false) ;
oCustomProperty.AddParameter3( "setThumbWheel", siBool, false,null,null,false) ;
oCustomProperty.AddParameter3( "setTreadmill", siBool, false,null,null,false) ;
oCustomProperty.AddParameter3( "setDecimals", siInt4, 3,0,10,false) ;
oCustomProperty.AddParameter3( "setLabelMinPixels", siInt4, 10,0,300,false) ;
oCustomProperty.AddParameter3( "setLabelPercentage", siInt4, 30,0,100,false) ;
oCustomProperty.AddParameter3( "setCX", siInt4, 0,0,500,false) ;
oCustomProperty.AddParameter3( "setCY", siInt4, 0,0,100,false) ;
oCustomProperty.AddParameter3( "setUIMin", siDouble, -100,-10000,10000,false) ;
oCustomProperty.AddParameter3( "setUIMax", siDouble, 100,-10000,10000,false) ;
oCustomProperty.AddParameter3( "setMin", siDouble, -1000,-10000,10000,false) ;
oCustomProperty.AddParameter3( "setMax", siDouble, 1000,-10000,10000,false) ;
//
// Build the layout for the test property page
// 
var oLayout = oCustomProperty.PPGLayout
oLayout.AddGroup( "Test Number Parameter" ) ;
	//The logic code will set all the detailed attributes
	oLayout.AddItem( "number" ) ;
oLayout.EndGroup() ;
oLayout.AddGroup( "Display Attributes" ) ;
	oLayout.AddItem( "setLabel","Label" ) ;
	oLayout.AddItem( "setNoLabel","NoLabel" ) ;
	oLayout.AddItem( "setNoSlider","NoSlider" ) ;
	oLayout.AddItem( "setThumbWheel","ThumbWheel" ) ;
	oLayout.AddItem( "setTreadmill","Treadmill" ) ;
	oLayout.AddItem( "setCX","Fixed Width" ) ;
	oLayout.AddItem( "setCY","Fixed Height" ) ;
	oLayout.AddItem( "setDecimals","Decimals" ) ;
	oLayout.AddItem( "setLabelMinPixels","Label Pixels (Min)" ) ;
	oLayout.AddItem( "setLabelPercentage","Label %" ) ;
	oLayout.AddButton( "Update" ) ;
oLayout.EndGroup() ;
// These values actually fundamentally affect the
// parameter itself.
// Note1:You could potentially change the script name
// 	but that would break the logic code that depends
// 	on the scripting name
// Note2:You can't change the type of a parameter.
// 	Instead you could delete and recreate a new parameter
// 	dynamically but that is not part of this example
oLayout.AddGroup( "Parameter Attributes" ) ;
	oLayout.AddItem( "setMin" ) ;
	oLayout.AddItem( "setMax" ) ;
	oLayout.AddItem( "setUIMin" ) ;
	oLayout.AddItem( "setUIMax" ) ;
	oLayout.AddButton( "PDefUpdate","Update" ) ;
oLayout.EndGroup() ;
oLayout.Language = "Jscript" ;
oLayout.Logic = NumberControlTester_Update_OnClicked.toString() + 
		NumberControlTester_PDefUpdate_OnClicked.toString();
oLayout.SetAttribute( "LogicPrefix", "NumberControlTester_" ) ;
InspectObj( oCustomProperty ) ;
//
// This is the logic code
// 
function NumberControlTester_Update_OnClicked()
{
	var oCustomProperty = PPG.Inspected(0) ;
	var oLayout = oCustomProperty.PPGLayout
	var oPPGItem = oLayout.Item( "number" ) ;
	// Based on the property page items, set the attributes
	// of the control
	oPPGItem.Label = oCustomProperty.setLabel.Value ;
	oPPGItem.SetAttribute( "NoLabel", oCustomProperty.setNoLabel.Value ) ;
	oPPGItem.SetAttribute( "ValueOnly", oCustomProperty.setValueOnly.Value ) ;
	oPPGItem.SetAttribute( "NoSlider", oCustomProperty.setNoSlider.Value ) ;
	oPPGItem.SetAttribute( "Decimals", oCustomProperty.setDecimals.Value ) ;	
	oPPGItem.SetAttribute( "ThumbWheel", oCustomProperty.setThumbWheel.Value ) ;	
	oPPGItem.SetAttribute( "Treadmill", oCustomProperty.setTreadmill.Value ) ;	
	oPPGItem.SetAttribute( "CX", oCustomProperty.setCX.Value ) ;	
	oPPGItem.SetAttribute( "CY", oCustomProperty.setCY.Value ) ;	
	oPPGItem.LabelMinPixels = oCustomProperty.setLabelMinPixels.Value ;
	oPPGItem.LabelPercentage = oCustomProperty.setLabelPercentage.Value ;
	// (There is also a logithmic attribute 
	// but it only works for integer parameters)
	// You need to rebuild the PPG contents to see the changes
	PPG.Refresh() ;
}
function NumberControlTester_PDefUpdate_OnClicked()
{
	var oCustomProperty = PPG.Inspected(0) ;
	var oLayout = oCustomProperty.PPGLayout
	var newUIMin = oCustomProperty.setUIMin.Value ;
	var newUIMax = oCustomProperty.setUIMax.Value ;
	var newMin = oCustomProperty.setMin.Value ;
	var newMax = oCustomProperty.setMax.Value ;
	if ( newUIMin &gt; newUIMax ) {
		Logmessage( "UIMin must be less than UIMax!" ) ;
		return ;
	}
	if ( newMax &lt; newUIMax ) {
		Logmessage( "UIMax can't be bigger than Max!" ) ;
		return ;		
	}
	if ( newMin &gt; newUIMin ) {
		Logmessage( "UIMin can't be smaller than Min!" ) ;
		return ;		
	}
	// Call the command with the new parameter ranges
	EditParameterDefinition( oCustomProperty.number.FullName, null, null, newMin, newMax, newUIMin, newUIMax ) ;
	// You need to rebuild the PPG contents to see the changes
	PPG.Refresh() ;
}</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/PPGItem.html">PPGItem</a> <a href="#!/url=./si_om/ProjectItem.PPGLayout.html">ProjectItem.PPGLayout</a> <a href="#!/url=./si_cmds/InspectObj.html">InspectObj</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   </div></body>
</html>
