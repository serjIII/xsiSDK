<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>Cluster</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><style>
/*  These settings override ones in the default stylesheets
	used by the merged files that cause problems in combination
	with the standard HTML help styles and page templates. */

div, div.example, div.tip {
	 margin:0;
}

td.example {
	background: inherit;
}

/* This fixes a problem with nested pre blocks on an example page */
pre pre {
	display:block;
	padding:0;
	border-style:none;
}
</style><link rel="stylesheet" href="si_om/css/en.css" type="text/css" /><script>$(document).ready(function() { yepnope.injectJs("./si_om/lib/utils.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">var reflinkid = "si_cpp"; var reflinkdata = new Array(); function closeRefLinkDiv() { }; $(document).on('click', function() { closeRefLinkDiv(); } );</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/multireflink.js"); });</script><script>$(document).ready(function () { prettyPrint(); } );</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script type="text/javascript">
 </script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div><div id="reflinkdiv" style="display:none; font-family: 'RobotoRegular', Arial, Tahoma, sans-serif; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div>
      <div>
         <div class="head">
            <h1>Cluster</h1>
         </div>

<h2 class="pagehead">Cluster</h2>

<p><a href="#!/url=./si_om/_hier.html#oh_Cluster">Object Hierarchy</a> | Related C++ Class: <a href="#!/url=./si_cpp/classXSI_1_1Cluster.html">Cluster</a></p>

<h3>Inheritance<h3>
<p class="level1"><a href="#!/url=./si_om/SIObject.html">SIObject</a></p>
<p class="level2"><a href="#!/url=./si_om/ProjectItem.html">ProjectItem</a></p>
<p class="level3"><a href="#!/url=./si_om/SceneItem.html">SceneItem</a></p>
<p class="level4">Cluster</p>

<h3>Description</h3>
<div><p> A cluster represents a set of components on a <a href="#!/url=./si_om/Geometry.html">Geometry</a>. For example, the 
polygons of the left arm of a human model might be grouped together by creating a cluster.<br /><br />
A cluster has a <a href="#!/url=./si_om/SIObject.Type.html">SIObject.Type</a> which corresponds to the component type that 
it contains, (pnt, knot, poly). A geometry can have multiple clusters, including clusters of 
different types.  Any particular component might be included in multiple clusters. The 
<a href="#!/url=./si_om/ClusterTypes.html">ClusterTypes</a> that are supported on a geometry depend on the type of object.  
For example only <a href="#!/url=./si_om/NurbsSurface.html">NurbsSurface</a> or <a href="#!/url=./si_om/NurbsCurve.html">NurbsCurve</a> can have a 
siKnotCluster. <br /><br />
Clusters can be created on the geometry of a <a href="#!/url=./si_om/ParticleCloud.html">ParticleCloud</a>. These clusters 
are of type siVertexCluster but they contain <a href="#!/url=./si_om/Particle.html">Particle</a>s.<br /><br />
A cluster that includes all the components of a particular type is said to be "always complete", 
which you can verify with the <a href="#!/url=./si_om/Cluster.IsAlwaysComplete.html">Cluster.IsAlwaysComplete</a> method. An always-complete 
cluster always covers all components of the geometry, even when components are added by a modeling 
operation; however, notice that a cluster which covers all components of a geometry is not necessarily 
always-complete. Other clusters may contain a subset of components. In all cases the indices of the 
components in the cluster do not directly match the indices of the component on the geometry.  
The mapping between cluster indices and geometry indices is available through 
<a href="#!/url=./si_om/Cluster.Elements.html">Cluster.Elements</a> and <a href="#!/url=./si_om/Cluster.FindIndices.html">Cluster.FindIndices</a>.<br /><br />
Clusters are useful for storing per-component data with a <a href="#!/url=./si_om/ClusterProperty.html">ClusterProperty</a> or 
<a href="#!/url=./si_om/UserDataMap.html">UserDataMap</a>. Clusters can also have their own <a href="#!/url=./si_om/CustomProperty.html">CustomProperty</a> 
objects. All these properties can be created with <a href="#!/url=./si_om/SceneItem.AddProperty.html">SceneItem.AddProperty</a> and
enumerated with <a href="#!/url=./si_om/SceneItem.LocalProperties.html">SceneItem.LocalProperties</a>. Notice that some types of 
<a href="#!/url=./si_om/ClusterProperty.html">ClusterProperty</a> require the cluster to be always complete.<br /><br />
Warning: Operations that change the geometry, for example adding an edge to a mesh, can result 
in the cluster growing or shrinking.<br /><br />
Note: As of v5.0, the base property SIObject.Parent called on a Cluster object returns 
a <a href="#!/url=./si_om/Primitive.html">Primitive</a> instead of an <a href="#!/url=./si_om/X3DObject.html">X3DObject</a>.
</p></div>

<h3>Methods</h3>
<div><p><table>
	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.AddCustomOp.html">AddCustomOp</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.AddCustomProperty.html">AddCustomProperty</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.AddICEAttribute.html">AddICEAttribute</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.AddMaterial.html">AddMaterial</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SceneItem.AddProperty.html">AddProperty</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.AddScriptedOp.html">AddScriptedOp</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.AddScriptedOpFromFile.html">AddScriptedOpFromFile</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.AnimatedParameters2.html">AnimatedParameters2</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SceneItem.ApplyEnvelope.html">ApplyEnvelope</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.BelongsTo.html">BelongsTo</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.CreateSubComponent.html">CreateSubComponent</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.EvaluateAt.html">EvaluateAt</a>		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.FindIndex.html">FindIndex</a>		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.FindIndices.html">FindIndices</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.GetICEAttributeFromName.html">GetICEAttributeFromName</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.GetLocalPropertyFromName.html">GetLocalPropertyFromName</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SceneItem.GetLocalPropertyFromName2.html">GetLocalPropertyFromName2</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.GetPropertyFromName.html">GetPropertyFromName</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.GetPropertyFromName2.html">GetPropertyFromName2</a>		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.GetStaticKinematicStates.html">GetStaticKinematicStates</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.HasStaticKinematicState.html">HasStaticKinematicState</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.IsA.html">IsA</a>		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.IsAlwaysComplete.html">IsAlwaysComplete</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.IsAnimated2.html">IsAnimated2</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.IsClassOf.html">IsClassOf</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.IsEqualTo.html">IsEqualTo</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.IsKindOf.html">IsKindOf</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.IsLocked.html">IsLocked</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.IsSelected.html">IsSelected</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.LockOwners.html">LockOwners</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.RemoveICEAttribute.html">RemoveICEAttribute</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.SetAsSelected.html">SetAsSelected</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.SetCapabilityFlag.html">SetCapabilityFlag</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.SetLock.html">SetLock</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.SetMaterial.html">SetMaterial</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.TaggedParameters.html">TaggedParameters</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.UnSetLock.html">UnSetLock</a>		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

	<tr>

		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>		<td class="members">&nbsp;		</td>	</tr>

</table>
</p></div>

<h3>Properties</h3>
<div><p><table>
	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.Application.html">Application</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.BranchFlag.html">BranchFlag</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.Capabilities.html">Capabilities</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Categories.html">Categories</a>		</td>	</tr>

	<tr>

		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.CenterReference.html">CenterReference</a>		</td>		<td class="members" style="background:#ffffc0;"><a href="#!/url=./si_om/Cluster.Elements.html">Elements</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.Envelopes.html">Envelopes</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.EvaluationID.html">EvaluationID</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.Families.html">Families</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.FullName.html">FullName</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Help.html">Help</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.HierarchicalEvaluationID.html">HierarchicalEvaluationID</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.ICEAttributes.html">ICEAttributes</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.LocalProperties.html">LocalProperties</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.LockLevel.html">LockLevel</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.LockMasters.html">LockMasters</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.LockType.html">LockType</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.Material.html">Material</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.Model.html">Model</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Name.html">Name</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/SIObject.NestedObjects.html">NestedObjects</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.ObjectID.html">ObjectID</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Origin.html">Origin</a>		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.OriginPath.html">OriginPath</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.Owners.html">Owners</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.PPGLayout.html">PPGLayout</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.Parameters.html">Parameters</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Parent.html">Parent</a>		</td>	</tr>

	<tr>

		<td class="members"><a href="#!/url=./si_om/ProjectItem.Parent3DObject.html">Parent3DObject</a>		</td>		<td class="members"><a href="#!/url=./si_om/SceneItem.Properties.html">Properties</a>		</td>		<td class="members"><a href="#!/url=./si_om/ProjectItem.Selected.html">Selected</a> <img src="images/operator.gif" alt="operator" />		</td>		<td class="members"><a href="#!/url=./si_om/SIObject.Type.html">Type</a> <img src="images/operator.gif" alt="operator" />		</td>	</tr>

</table>
</p></div>

<h3>Examples</h3>
<div><p><h4>1. VBScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="vbscript">'
'	This example shows how to create many different cluster types.
'	It also shows how to find all clusters in a scene
'
NewScene ,false
set oRoot = Application.ActiveProject.ActiveScene.Root
set grid = oRoot.AddGeometry("Grid","MeshSurface")
set gridGeometry = grid.ActivePrimitive.Geometry
'Only certain types makes sense on a MeshSurface	
'This cluster we will create as a subset of the vertices
gridGeometry.AddCluster siVertexCluster,"PntCluster",Array(1,4,7,10,13,16,19,22)
'The rest we will create as complete clusters
gridGeometry.AddCluster siPolygonCluster,"PolygonC"
gridGeometry.AddCluster siEdgeCluster
gridGeometry.AddCluster siSampledPointCluster
'A different set makes sense with Nurbs
set torus = oRoot.AddGeometry("Torus","NurbsSurface")
set torusGeometry = torus.ActivePrimitive.Geometry
torusGeometry.AddCluster siVertexCluster,"PntCluster"
torusGeometry.AddCluster siSampledPointCluster
torusGeometry.AddCluster siSurfaceCurveCluster 
torusGeometry.AddCluster siKnotCurveUCluster
torusGeometry.AddCluster siKnotCurveVCluster
torusGeometry.AddCluster siBoundaryCluster
torusGeometry.AddCluster siKnotCluster 
torusGeometry.AddCluster siTrimCurveCluster
torusGeometry.AddCluster siIsoLineUCluster 
torusGeometry.AddCluster siIsoLineVCluster
torusGeometry.AddCluster siSubSurfaceCluster
set circle = oRoot.AddGeometry("Circle","NurbsCurve")
set circleGeometry = circle.ActivePrimitive.Geometry
circleGeometry.AddCluster siIsoPointCluster
circleGeometry.AddCluster siVertexCluster,"PntCluster"
circleGeometry.AddCluster siKnotCluster 
set particleCloud = CreateParticleCloud().Item(0)
particleCloud.ActivePrimitive.Geometry.AddCluster siVertexCluster, "MyParticles"
' Now traverse the scene finding all the clusters
logmessage "Clusters in Scene......................"
set oSceneObjs = ActiveSceneRoot.FindChildren()
for each oItem in oSceneObjs
	'Use error handling to skip over the objects that don't
	'support clusters		
	on error resume next	
	set oClusters = oItem.ActivePrimitive.Geometry.Clusters
	if ( err = 0 ) then
		logmessage oItem &amp; " has " &amp; oClusters.Count &amp; " Clusters: "
		for each oCls in oClusters
			logmessage "    " &amp; oCls &amp; " (type: " &amp; oCls.Type &amp; ")"
		next
	end if	
next
'The output of this script is:
'INFO : "Clusters in Scene......................"
'INFO : "grid has 4 Clusters: "
'INFO : "    grid.polymsh.cls.PntCluster (type: pnt)"
'INFO : "    grid.polymsh.cls.edge.clslist.Edge (type: edge)"
'INFO : "    grid.polymsh.cls.PolygonC (type: poly)"
'INFO : "    grid.polymsh.cls.sample.clslist.Sample (type: sample)"
'INFO : "torus has 11 Clusters: "
'INFO : "    torus.surfmsh.cls.V_Knot_Curve (type: knotcrvv)"
'INFO : "    torus.surfmsh.cls.U_Knot_Curve (type: knotcrvu)"
'INFO : "    torus.surfmsh.cls.sample.clslist.Sample (type: sample)"
'INFO : "    torus.surfmsh.cls.PntCluster (type: pnt)"
'INFO : "    torus.surfmsh.cls.Surface_Curve (type: srfcrv)"
'INFO : "    torus.surfmsh.cls.V_Isoline (type: isolinev)"
'INFO : "    torus.surfmsh.cls.knot.clslist.Knot (type: knot)"
'INFO : "    torus.surfmsh.cls.Boundary (type: bndry)"
'INFO : "    torus.surfmsh.cls.Subsurface (type: subsrf)"
'INFO : "    torus.surfmsh.cls.U_Isoline (type: isolineu)"
'INFO : "    torus.surfmsh.cls.Trim_Curve (type: trimcrv)"
'INFO : "circle has 3 Clusters: "
'INFO : "    circle.crvlist.cls.Isopoint (type: isopnt)"
'INFO : "    circle.crvlist.cls.PntCluster (type: pnt)"
'INFO : "    circle.crvlist.cls.knot.clslist.Knot (type: knot)"
'INFO : "cloud has 1 Clusters: "
'INFO : "    cloud.cloud.cls.MyParticles (type: pnt)"</pre></td></tr>
</table>
</div><h4>2. JScript Example</h4><div class="example"><table>
<tr>
<td class="example"><pre class="jscript">//Step 1: Simulate the user creating a scene and selecting
//some points on a grid
var oGrid = ActiveSceneRoot.AddGeometry( "Grid", "MeshSurface" ) ;
SelectObj( oGrid ) ;
ActivateVertexSelTool();
AddToSelection( oGrid.Name + ".pnt[0-8]", null, true);
//Step 2: Get the selected components using OM
var oSubComponent = Selection(0).SubComponent ;
//Expect that 9 components were selected
logmessage( oSubComponent.ComponentCollection.Count ) ;
//Step 3: it is simple to create a cluster
var oCluster = oSubComponent.CreateCluster() ;
logmessage( oCluster.FullName  ) ;
//Output of this example:
//INFO : "9"
//INFO : "grid.polymsh.cls.Point"</pre></td></tr>
</table>
</div></p></div>

<h3>See Also</h3>
<div><p><a href="#!/url=./si_om/ClusterProperty.html">ClusterProperty</a> <a href="#!/url=./si_om/Geometry.AddCluster.html">Geometry.AddCluster</a> <a href="#!/url=./si_om/Geometry.Clusters.html">Geometry.Clusters</a> <a href="#!/url=./si_om/Geometry.SaveShapeKey.html">Geometry.SaveShapeKey</a></p></div>

      <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></h3></h3></div>
   </div></body>
</html>
