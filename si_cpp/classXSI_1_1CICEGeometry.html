<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head><script src="../scripts/lib/jquery-1.9.1.min.js" type="text/javascript"></script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="../scripts/utils/adsk.redirect.js"></script>
      <title>CICEGeometry Class Reference</title>
   
</head>
   <body height="100%"><div class="body_content" id="body-content"><link rel="stylesheet" type="text/css" href="si_cpp/navtree.css"><link rel="stylesheet" type="text/css" href="si_cpp/doxygen.css"><link rel="stylesheet" type="text/css" href="si_cpp/tabs.css"><link rel="stylesheet" type="text/css" href="style/adsk.cpm.css"><script>$(document).ready(function() { yepnope.injectJs("./scripts/yepnope.1.5.4-min.js"); });</script><script>$(document).ready(function() { yepnope.injectJs("./scripts/ac_common.js"); });</script><script type="text/javascript">
var weAreIn21 = $("div#main.view-active").length;
var prefix = "";
if (weAreIn21)
{ prefix = "si_cpp/"; }
yepnope([{
load:[prefix + "jquery.js", prefix + "navtree.js", prefix + "resize.js", prefix + "dynsections.js"],
complete: function() {
  dQuery = jQuery.noConflict('true');
  dQuery(window).load(resizeHeight);
  dQuery(document).ready( function () {
    setTimeout( function () {
      initResizable();
      initNavTree('classXSI_1_1CICEGeometry.html', prefix);
      dQuery(window).trigger("load");
      }, 100);
    }
  );
}
}]
)
</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type='text/javascript'>$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&category=5297189e-446b-459e-ae1d-9d0360400781_tech&ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><!-- begin MT -->
            
            <div id='MicrosoftTranslatorWidget' class='Dark' style='position:absolute;right:20px;top:5px;z-index:100;color:white;background-color:#555555;height:58px;overflow:hidden'></div>
      <div>
         <div class="head">
            <h1>CICEGeometry Class Reference</h1>
         </div>

    <div id="top"><!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="#!/url=./si_cpp/index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="#!/url=./si_cpp/pages.html"><span>Topics</span></a></li>
      <li><a href="#!/url=./si_cpp/modules.html"><span>Modules</span></a></li>
      <li><a href="#!/url=./si_cpp/namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="#!/url=./si_cpp/annotated.html"><span>Classes</span></a></li>
      <li><a href="#!/url=./si_cpp/files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="#!/url=./si_cpp/annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="#!/url=./si_cpp/hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="#!/url=./si_cpp/functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" class="ui-resizable-handle">
  </div>
</div>

<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">CICEGeometry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" translate="no" href="#!/url=./si_cpp/xsi__icegeometry_8h_source.html">xsi_icegeometry.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Class Description</h2>
<div class="textblock"><p>Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node. </p>
<p><a class="anchor" id="dirty states:checking for geometry changes"></a> The following geometry types are supported: </p>
<ul>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a17989a42a25a20706d1f46c7473a68eb">CICEGeometry::siMeshSurfaceType</a>: mesh surface. </li>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a1a55b1710dffaec6e982fa6b9dd5d6e6">CICEGeometry::siNurbsSurfaceType</a>: nurbs surface. </li>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a5d4d6d710d8c05c4ac2f89c690ad4207">CICEGeometry::siNurbsCurveType</a>: nurbs curve. </li>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a732a272e8d93b3d9934f506ec7be4e42">CICEGeometry::siPointCloudType</a>: point cloud. </li>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a24b0984b47f8d96bc3874357c001321d">CICEGeometry::siGroupType</a>: grouped geometries.</li>
</ul>
<p>This API can handle single geometries or a composite of multiple, or <em>grouped</em>, geometries. For grouped geometries, <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> virtually unifies the sub-geometries as one single geometry which allows data to be accessed as if it were actually a single geometry. For instance, calling <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a90e70723c8e2011efade4f8f292d0fcd">CICEGeometry::GetPointPositionCount</a> on a grouped geometry returns the total number of points for all sub-geometries.</p>
<dl class="section user"><dt>Note:</dt><dd>Geometries can be grouped together with the <a href="#!/url=./files/GroupGeometryNode.htm">GroupGeometryNode</a> or by adding them to a <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1Group.html" title="The Group class represents a collection of related objects. ">Group</a> in the Softimage scene.</dd></dl>
<p><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> is typically used in the <a href="#!/url=./files/cb_ICENode_BeginEvaluate.htm">BeginEvaluate</a> callback but can also be used in all custom <a href="#!/url=./files/cb_icenodes.htm">ICENode evaluation callbacks</a>. However, it cannot be used from an <a href="#!/url=./files/cb_ICENode_Evaluate.htm">Evaluate</a> callback in multi-thread mode with a non-singleton context. Calls to <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> methods will just return default values in this context. Also, <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> can only be used with specific geometry ports defined with the following types: </p>
<pre class="fragment">\li type: ::siICENodeDataGeometry
\li structure: ::siICENodeStructureSingle
\li context: ::siICENodeContextSingleton
</pre><p>The <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> class can also be used to interrogate connected geometries about their states. The states supported are: </p>
<ul>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa9ee491e427205139588b4ea649b4a00b">CICEGeometry::siTransformationDirtyState</a>: This state is true when the transformation of the geometry has been changed (translation, rotation or scaling). </li>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fafda97d4337b4872babc8c6a9463c9e9c">CICEGeometry::siPointPositionDirtyState</a>: This state is true when the point position of the geometry has been changed. </li>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa9be0106c9503b862ed14f4a71fa8b956">CICEGeometry::siTopologyDirtyState</a>: This state is true when the topology of the geometry has been changed. When <code>siTopologyDirtyState</code> is true, it implies that <code>siPointPositionDirtyState</code> is also true. </li>
<li><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa434376409d26c467320b1d046435c72a">CICEGeometry::siGeometryTypeDirtyState</a>: This state is true when the type of geometry has been changed. When this state is true all other states are also true.</li>
</ul>
<p><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> only supports geometry-centric states. Use <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEPortState.html" title="CICEPortState is used for accessing the state of a custom ICENode input port from the BeginEvaluate c...">CICEPortState</a> to query for the low-level port states of connected geometries.</p>
<dl class="section user"><dt>Note:</dt><dd><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa4990f4431660053845f6189e5e019198">CICEGeometry::siAnyDirtyState</a> can be used to test if at least one state is dirty.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>8.0 (2010)</dd></dl>
<dl class="section user"><dt>Example:</dt><dd>Simple example to demonstrate the CICEGeometry API. For a more detailed example see the <a href="#!/url=./files/CustomICENodes/netview_CustomICENodes.htm">PointGeneratorFromGeometry custom ICE node</a> example <div class="fragment"><div class="line">XSIPLUGINCALLBACK CStatus Sample_RegisterNode( ICENodeContext&amp; in_ctxt )</div>
<div class="line">{</div>
<div class="line">    ICENodeDef nodeDef = Application().GetFactory().CreateICENodeDef(L<span class="stringliteral">&quot;Sample&quot;</span>,L<span class="stringliteral">&quot;Sample&quot;</span>);</div>
<div class="line"></div>
<div class="line">    nodeDef.AddInputPort(   ID_IN_GeometryPortID, ID_G_100,</div>
<div class="line">                            <a class="code" href="#!/url=./si_cpp/namespaceXSI.html#a307f67e56bb2121f6a8eb0a99929bb1aaab4d2e08f9658bd6510492e176ad49f0">siICENodeDataGeometry</a>,<a class="code" href="#!/url=./si_cpp/namespaceXSI.html#a25edb7cb80d670db4441230cee17938dad27363313efc37ac55e9ecaf64f7e863">siICENodeStructureSingle</a>,<a class="code" href="#!/url=./si_cpp/namespaceXSI.html#a3868a5b6193c034d90a55089dc65c605a806b40a56ae2729761e1fa79c6e9341a">siICENodeContextSingleton</a>,</div>
<div class="line">                            L<span class="stringliteral">&quot;geometry input&quot;</span>, L<span class="stringliteral">&quot;geometry input&quot;</span> );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Rest of the code omitted for brievity ...</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">XSIPLUGINCALLBACK CStatus Sample_BeginEvaluate( ICENodeContext&amp; in_ctxt )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geom( in_ctxt, ID_IN_GeometryPortID  );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Geometry data are provided as a flat list of values</span></div>
<div class="line">    CDoubleArray points;</div>
<div class="line">    geom.GetPointPositions( points ) ;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1MATH_1_1CMatrix4f.html">XSI::MATH::CMatrix4f</a> transfo;</div>
<div class="line">    geom.GetTransformation( transfo );</div>
<div class="line"></div>
<div class="line">    std::vector&lt; MATH::CVector3f &gt;* pUserData = <span class="keyword">new</span> std::vector&lt; MATH::CVector3f &gt;;</div>
<div class="line"></div>
<div class="line">    ULONG nCount = geom.GetPolygonCount();</div>
<div class="line"></div>
<div class="line">    CLongArray sizes;   <span class="comment">// sizes holds the number of points per polygon</span></div>
<div class="line">    CLongArray indices; <span class="comment">// indices holds the polygon indices and are used for indexing the point values</span></div>
<div class="line">    geom.GetPolygonIndices( sizes, indices );</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Compute the center point of all polygons and save the result in a user data.</span></div>
<div class="line">    ULONG nOffset = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (ULONG i=0; i&lt;nCount; i++)</div>
<div class="line">    {</div>
<div class="line">        MATH::CVector3f vTotal;</div>
<div class="line">        <span class="keywordflow">for</span> (ULONG j=0; j&lt;(ULONG)sizes[i]; j++, nOffset++)</div>
<div class="line">        {</div>
<div class="line">            MATH::CVector3f v(  (<span class="keywordtype">float</span>)points[ indices[nOffset]*3 ],</div>
<div class="line">                                (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+1 ],</div>
<div class="line">                                (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+2 ] );</div>
<div class="line">            vTotal += v;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        vTotal *= 1.0f/sizes[i];</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The points are relative to the geometry and must be converted to global coordinates.</span></div>
<div class="line">        vTotal.MulByMatrix4InPlace( transfo );</div>
<div class="line">        pUserData-&gt;push_back( vTotal );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">XSIPLUGINCALLBACK CStatus Sample_Evaluate( ICENodeContext&amp; in_ctxt )</div>
<div class="line">{</div>
<div class="line">    ULONG out_portID = in_ctxt.GetEvaluatedOutputPortID( );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">switch</span>( out_portID )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span> ID_OUT_Sample_Points:</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Retrieve the points computed in Sample_BeginEvaluate</span></div>
<div class="line">            std::vector&lt;MATH::CVector3f&gt;* pUserData = (std::vector&lt;MATH::CVector3f&gt;*)(CValue::siPtrType)in_ctxt.GetUserData( );</div>
<div class="line"></div>
<div class="line">            CDataArrayVector3f outData( in_ctxt );</div>
<div class="line"></div>
<div class="line">            CIndexSet indexSet( in_ctxt );</div>
<div class="line">            <span class="keywordflow">for</span>(CIndexSet::Iterator it = indexSet.Begin(); it.HasNext(); it.Next())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Note: The output buffer is relative to the &#39;batch&#39; data therefore the batch can be</span></div>
<div class="line">                <span class="comment">// indexed with the iterator directly. As for the user data vector, pUSerData must be</span></div>
<div class="line">                <span class="comment">// indexed with the &#39;batch&#39; global index i.e. CIndexSet::Iterator::GetAbsoluteIndex()</span></div>
<div class="line">                outData[it] = (*pUserData)[ it.GetAbsoluteIndex() ];</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">XSIPLUGINCALLBACK CStatus Sample_EndEvaluate( ICENodeContext&amp; in_ctxt )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Release the memory allocated for the user data</span></div>
<div class="line"></div>
<div class="line">    CValue userData = in_ctxt.GetUserData( );</div>
<div class="line">    <span class="keywordflow">if</span> (userData.IsEmpty())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    std::vector&lt;MATH::CVector3f&gt;* pUserData = (std::vector&lt;MATH::CVector3f&gt;*)(CValue::siPtrType)userData;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (pUserData)</div>
<div class="line">        <span class="keyword">delete</span> pUserData;</div>
<div class="line"></div>
<div class="line">    in_ctxt.PutUserData( CValue() );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a>;</div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Example:</dt><dd>Example to demonstrate querying the geometry states on geometries connected to a custom node. For a more detailed example see the <a href="#!/url=./files/CustomICENodes/netview_CustomICENodes.htm">PortStateObserver custom ICE node</a> example. <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> _LogGeometryStates( <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a>&amp; in_geom, <span class="keyword">const</span> CString&amp; in_portName, <span class="keywordtype">double</span> in_dCurrentFrame, <span class="keywordtype">bool</span> in_bClearState )</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> ( in_geom.IsDirty( <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa4990f4431660053845f6189e5e019198">CICEGeometry::siAnyDirtyState</a> ) )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">bool</span> bTypeDirtyState = in_geom.IsDirty( <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa434376409d26c467320b1d046435c72a">CICEGeometry::siGeometryTypeDirtyState</a> );</div>
<div class="line">        <span class="keywordtype">bool</span> bTransfoDirtyState = in_geom.IsDirty( <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa9ee491e427205139588b4ea649b4a00b">CICEGeometry::siTransformationDirtyState</a> );</div>
<div class="line">        <span class="keywordtype">bool</span> bPointsDirtyState = in_geom.IsDirty( <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fafda97d4337b4872babc8c6a9463c9e9c">CICEGeometry::siPointPositionDirtyState</a> );</div>
<div class="line">        <span class="keywordtype">bool</span> bTopologyDirtyState = in_geom.IsDirty( <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa9be0106c9503b862ed14f4a71fa8b956">CICEGeometry::siTopologyDirtyState</a> );</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( in_bClearState )</div>
<div class="line">        {</div>
<div class="line">            in_geom.ClearState();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        Application app;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Don&#39;t log redundant information:</span></div>
<div class="line">        <span class="comment">// bTypeDirtyState always implies bTransfoDirtyState + bPointsDirtyState + bTopologyDirtyState</span></div>
<div class="line">        <span class="comment">// bTopologyDirtyState always implies bPointsDirtyState</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( bTypeDirtyState)</div>
<div class="line">        {</div>
<div class="line">            app.LogMessage( <span class="stringliteral">&quot;&gt;&gt;&gt; Port &quot;</span> + in_portName + <span class="stringliteral">&quot; siGeometryTypeDirtyState at frame &quot;</span> + CString(in_dCurrentFrame) + <span class="stringliteral">&quot; is dirty&quot;</span> );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( bTransfoDirtyState)</div>
<div class="line">            {</div>
<div class="line">                app.LogMessage( <span class="stringliteral">&quot;&gt;&gt;&gt; Port &quot;</span> + in_portName + <span class="stringliteral">&quot; siTransformationDirtyState at frame &quot;</span> + CString(in_dCurrentFrame) + <span class="stringliteral">&quot; is dirty&quot;</span> );</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( bTopologyDirtyState)</div>
<div class="line">            {</div>
<div class="line">                app.LogMessage( <span class="stringliteral">&quot;&gt;&gt;&gt; Port &quot;</span> + in_portName + <span class="stringliteral">&quot; siTopologyDirtyState at frame &quot;</span> + CString(in_dCurrentFrame) + <span class="stringliteral">&quot; is dirty&quot;</span> );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( bPointsDirtyState)</div>
<div class="line">            {</div>
<div class="line">                app.LogMessage( <span class="stringliteral">&quot;&gt;&gt;&gt; Port &quot;</span> + in_portName + <span class="stringliteral">&quot; siPointPositionDirtyState at frame &quot;</span> + CString(in_dCurrentFrame) + <span class="stringliteral">&quot; is dirty&quot;</span> );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> LogGeometryStates( <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a>&amp; in_geom, <span class="keyword">const</span> CString&amp; in_portName, <span class="keywordtype">double</span> in_dCurrentFrame )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7">CICEGeometry::Type</a> geomtype = in_geom.GetGeometryType();</div>
<div class="line">    <span class="keywordflow">switch</span>( geomtype )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a24b0984b47f8d96bc3874357c001321d">CICEGeometry::siGroupType</a>:</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Note: ClearState on sub-geometries will clear the states for the entire group geometry. It&#39;s</span></div>
<div class="line">            <span class="comment">// recommended to call ClearState only on the group geometry to avoid inconsistencies.</span></div>
<div class="line">            _LogGeometryStates( in_geom, in_portName, in_dCurrentFrame, <span class="keyword">false</span> );</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (ULONG i=0; i&lt;in_geom.GetSubGeometryCount(); i++)</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> subgeom = in_geom.GetSubGeometry(i);</div>
<div class="line">                _LogGeometryStates( subgeom, in_portName + CString(i), in_dCurrentFrame, <span class="keyword">false</span> );</div>
<div class="line">            }</div>
<div class="line">            in_geom.ClearState();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">        {</div>
<div class="line">            _LogGeometryStates( in_geom, in_portName, in_dCurrentFrame, <span class="keyword">true</span> );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">XSIPLUGINCALLBACK CStatus Port_State_Observer_BeginEvaluate( ICENodeContext&amp; in_ctxt )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geomGroup( in_ctxt, ID_IN_GeometryGroup );</div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geomCurve( in_ctxt, ID_IN_NurbsCurve );</div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geomMesh( in_ctxt, ID_IN_MeshSurf );</div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geomNurbsSurf( in_ctxt, ID_IN_NurbsSurf );</div>
<div class="line">    <a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geomCloud( in_ctxt, ID_IN_PointCloud );</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">double</span> dCurrentFrame = in_ctxt.GetTime();</div>
<div class="line">    LogGeometryStates( geomGroup, L<span class="stringliteral">&quot;GeometryGroup&quot;</span>, dCurrentFrame );</div>
<div class="line">    LogGeometryStates( geomCurve, L<span class="stringliteral">&quot;NurbsCurve&quot;</span>, dCurrentFrame );</div>
<div class="line">    LogGeometryStates( geomMesh, L<span class="stringliteral">&quot;MeshSurf&quot;</span>, dCurrentFrame );</div>
<div class="line">    LogGeometryStates( geomNurbsSurf, L<span class="stringliteral">&quot;NurbsSurf&quot;</span>, dCurrentFrame );</div>
<div class="line">    LogGeometryStates( geomCloud, L<span class="stringliteral">&quot;PointCloud&quot;</span>, dCurrentFrame );</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> <a class="code" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a>;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a1d1cfd8ffb84e947f82999c682b666a7"><td class="memItemLeft" translate="no" align="right" valign="top">enum &#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a> { <br>
&#160;&#160;<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a503c885e8c07d491843923e6295252b5">siNoneType</a> =0, 
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a24b0984b47f8d96bc3874357c001321d">siGroupType</a> =1, 
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a17989a42a25a20706d1f46c7473a68eb">siMeshSurfaceType</a> =2, 
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a1a55b1710dffaec6e982fa6b9dd5d6e6">siNurbsSurfaceType</a> =3, 
<br>
&#160;&#160;<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a5d4d6d710d8c05c4ac2f89c690ad4207">siNurbsCurveType</a> =4, 
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7a732a272e8d93b3d9934f506ec7be4e42">siPointCloudType</a> =5
<br>
 }</td></tr>
<tr class="separator:a1d1cfd8ffb84e947f82999c682b666a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79be0489b44a77620de069631265f22f"><td class="memItemLeft" translate="no" align="right" valign="top">enum &#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22f">DirtyState</a> { <br>
&#160;&#160;<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa434376409d26c467320b1d046435c72a">siGeometryTypeDirtyState</a> = 1&lt;&lt;0, 
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa9ee491e427205139588b4ea649b4a00b">siTransformationDirtyState</a> = 1&lt;&lt;1, 
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fafda97d4337b4872babc8c6a9463c9e9c">siPointPositionDirtyState</a> = 1&lt;&lt;2, 
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa9be0106c9503b862ed14f4a71fa8b956">siTopologyDirtyState</a> = 1&lt;&lt;3, 
<br>
&#160;&#160;<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa4990f4431660053845f6189e5e019198">siAnyDirtyState</a>
<br>
 }</td></tr>
<tr class="separator:a79be0489b44a77620de069631265f22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1c692d778193acab29ee534b98bf9a62"><td class="memItemLeft" translate="no" align="right" valign="top">&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1c692d778193acab29ee534b98bf9a62">CICEGeometry</a> (<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1ICENodeContext.html">ICENodeContext</a> &amp;in_ctxt, ULONG in_nInputPortID, ULONG in_nInstanceIndex=0)</td></tr>
<tr class="separator:a1c692d778193acab29ee534b98bf9a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6244b19a6076c0da097993a2f597700"><td class="memItemLeft" translate="no" align="right" valign="top">&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#ac6244b19a6076c0da097993a2f597700">CICEGeometry</a> (const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;in_geom)</td></tr>
<tr class="separator:ac6244b19a6076c0da097993a2f597700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acb999636a9a52d9c0be254d47da976"><td class="memItemLeft" translate="no" align="right" valign="top">&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> ()</td></tr>
<tr class="separator:a7acb999636a9a52d9c0be254d47da976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8521998851caa6ea695fdb7070120d4"><td class="memItemLeft" translate="no" align="right" valign="top">&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#ae8521998851caa6ea695fdb7070120d4">~CICEGeometry</a> ()</td></tr>
<tr class="separator:ae8521998851caa6ea695fdb7070120d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa8720abaf6972d6dac22a8cd1a67225"><td class="memItemLeft" translate="no" align="right" valign="top">bool&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#afa8720abaf6972d6dac22a8cd1a67225">IsValid</a> () const </td></tr>
<tr class="separator:afa8720abaf6972d6dac22a8cd1a67225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97e84fbc38ab707fd0b372ecae09abc"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a>&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#af97e84fbc38ab707fd0b372ecae09abc">GetGeometryType</a> () const </td></tr>
<tr class="separator:af97e84fbc38ab707fd0b372ecae09abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dcdb8358ea31624af3d9d50146353e2"><td class="memItemLeft" translate="no" align="right" valign="top">bool&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1dcdb8358ea31624af3d9d50146353e2">operator==</a> (const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;in_geom) const </td></tr>
<tr class="separator:a1dcdb8358ea31624af3d9d50146353e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794883e61636653b8de04c16bdd26b44"><td class="memItemLeft" translate="no" align="right" valign="top">bool&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a794883e61636653b8de04c16bdd26b44">operator!=</a> (const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;in_geom) const </td></tr>
<tr class="separator:a794883e61636653b8de04c16bdd26b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe308a04919d9ff3ed57535b221cc854"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#abe308a04919d9ff3ed57535b221cc854">operator=</a> (const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;in_geom)</td></tr>
<tr class="separator:abe308a04919d9ff3ed57535b221cc854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f33a989da2fda9b0600b923c19cd3c"><td class="memItemLeft" translate="no" align="right" valign="top">ULONG&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a28f33a989da2fda9b0600b923c19cd3c">GetSubGeometryCount</a> () const </td></tr>
<tr class="separator:a28f33a989da2fda9b0600b923c19cd3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16a9c7af1fcb54401a1227e9dec7bae"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a>&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#af16a9c7af1fcb54401a1227e9dec7bae">GetSubGeometry</a> (ULONG in_index) const </td></tr>
<tr class="separator:af16a9c7af1fcb54401a1227e9dec7bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e70723c8e2011efade4f8f292d0fcd"><td class="memItemLeft" translate="no" align="right" valign="top">ULONG&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a90e70723c8e2011efade4f8f292d0fcd">GetPointPositionCount</a> () const </td></tr>
<tr class="separator:a90e70723c8e2011efade4f8f292d0fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46886a5f4f4a6d727e12b61316fffbbf"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a>&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a46886a5f4f4a6d727e12b61316fffbbf">GetPointPositions</a> (<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CDoubleArray.html">CDoubleArray</a> &amp;out_points) const </td></tr>
<tr class="separator:a46886a5f4f4a6d727e12b61316fffbbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df014e0773c54335e619f0e5c65ad27"><td class="memItemLeft" translate="no" align="right" valign="top">ULONG&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a6df014e0773c54335e619f0e5c65ad27">GetTriangleCount</a> () const </td></tr>
<tr class="separator:a6df014e0773c54335e619f0e5c65ad27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af79e96715bb4ad9e600644d5374e46"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a>&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a3af79e96715bb4ad9e600644d5374e46">GetTrianglePointIndices</a> (<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;out_indices) const </td></tr>
<tr class="separator:a3af79e96715bb4ad9e600644d5374e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1518e5249e9cbc9b489758c8f42d80f8"><td class="memItemLeft" translate="no" align="right" valign="top">ULONG&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1518e5249e9cbc9b489758c8f42d80f8">GetPolygonCount</a> () const </td></tr>
<tr class="separator:a1518e5249e9cbc9b489758c8f42d80f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7c4d0d6b954c667275cf5302cea1a2"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a>&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#afc7c4d0d6b954c667275cf5302cea1a2">GetPolygonIndices</a> (<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;out_sizes, <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;out_indices) const </td></tr>
<tr class="separator:afc7c4d0d6b954c667275cf5302cea1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f262f1df0eb3bdad001d8b1490754d"><td class="memItemLeft" translate="no" align="right" valign="top">ULONG&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#ab2f262f1df0eb3bdad001d8b1490754d">GetSegmentCount</a> () const </td></tr>
<tr class="separator:ab2f262f1df0eb3bdad001d8b1490754d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1fcef4f32bf290bf9309affaf0bfb68"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a>&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#aa1fcef4f32bf290bf9309affaf0bfb68">GetSegmentIndices</a> (<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;out_indices) const </td></tr>
<tr class="separator:aa1fcef4f32bf290bf9309affaf0bfb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ac89213569622fb00fe5e981fa2918"><td class="memItemLeft" translate="no" align="right" valign="top"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a>&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a16ac89213569622fb00fe5e981fa2918">GetTransformation</a> (<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1MATH_1_1CMatrix4f.html">XSI::MATH::CMatrix4f</a> &amp;out_mat44) const </td></tr>
<tr class="separator:a16ac89213569622fb00fe5e981fa2918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba7104f19642abbf575c4a5475ae5fe"><td class="memItemLeft" translate="no" align="right" valign="top">bool&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a8ba7104f19642abbf575c4a5475ae5fe">IsDirty</a> (unsigned short in_flag=<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa4990f4431660053845f6189e5e019198">siAnyDirtyState</a>) const </td></tr>
<tr class="separator:a8ba7104f19642abbf575c4a5475ae5fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd0c8bf4d40d83e231053dc5094bd63"><td class="memItemLeft" translate="no" align="right" valign="top">void&#160;</td><td class="memItemRight" translate="no" valign="bottom"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#aadd0c8bf4d40d83e231053dc5094bd63">ClearState</a> ()</td></tr>
<tr class="separator:aadd0c8bf4d40d83e231053dc5094bd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a1d1cfd8ffb84e947f82999c682b666a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">enum <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the geometry types supported by <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a1d1cfd8ffb84e947f82999c682b666a7a503c885e8c07d491843923e6295252b5"></a>siNoneType</em>&#160;</td><td class="fielddoc">
<p>No geometry </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a1d1cfd8ffb84e947f82999c682b666a7a24b0984b47f8d96bc3874357c001321d"></a>siGroupType</em>&#160;</td><td class="fielddoc">
<p>Group of geometries </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a1d1cfd8ffb84e947f82999c682b666a7a17989a42a25a20706d1f46c7473a68eb"></a>siMeshSurfaceType</em>&#160;</td><td class="fielddoc">
<p>Mesh surface geometry </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a1d1cfd8ffb84e947f82999c682b666a7a1a55b1710dffaec6e982fa6b9dd5d6e6"></a>siNurbsSurfaceType</em>&#160;</td><td class="fielddoc">
<p>Nurbs surface geometry </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a1d1cfd8ffb84e947f82999c682b666a7a5d4d6d710d8c05c4ac2f89c690ad4207"></a>siNurbsCurveType</em>&#160;</td><td class="fielddoc">
<p>Nurbs curve geometry </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a1d1cfd8ffb84e947f82999c682b666a7a732a272e8d93b3d9934f506ec7be4e42"></a>siPointCloudType</em>&#160;</td><td class="fielddoc">
<p>Point cloud geometry </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a79be0489b44a77620de069631265f22f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">enum <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22f">DirtyState</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the supported dirty geometry state types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a79be0489b44a77620de069631265f22fa434376409d26c467320b1d046435c72a"></a>siGeometryTypeDirtyState</em>&#160;</td><td class="fielddoc">
<p>This state is true when the type of geometry has been changed. When this state is true all other states are also true. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a79be0489b44a77620de069631265f22fa9ee491e427205139588b4ea649b4a00b"></a>siTransformationDirtyState</em>&#160;</td><td class="fielddoc">
<p>This state is true when the transformation of the geometry has been changed (translation, rotation or scaling). </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a79be0489b44a77620de069631265f22fafda97d4337b4872babc8c6a9463c9e9c"></a>siPointPositionDirtyState</em>&#160;</td><td class="fielddoc">
<p>This state is true when the point position of the geometry has been changed. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a79be0489b44a77620de069631265f22fa9be0106c9503b862ed14f4a71fa8b956"></a>siTopologyDirtyState</em>&#160;</td><td class="fielddoc">
<p>This state is true when the topology of the geometry has been changed. When <code>siTopologyDirtyState</code> is true, it implies that <code>siPointPositionDirtyState</code> is also true. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a79be0489b44a77620de069631265f22fa4990f4431660053845f6189e5e019198"></a>siAnyDirtyState</em>&#160;</td><td class="fielddoc">
<p>This state is true if any one of the states have changed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1c692d778193acab29ee534b98bf9a62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1ICENodeContext.html">ICENodeContext</a> &amp;&#160;</td>
          <td class="paramname"><em>in_ctxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULONG&#160;</td>
          <td class="paramname"><em>in_nInputPortID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ULONG&#160;</td>
          <td class="paramname"><em>in_nInstanceIndex</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor for creating and initializing an instance of <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_ctxt</td><td><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1ICENode.html" title="The ICENode object represents an effect node in the ICE graph. ">ICENode</a> evaluation context. </td></tr>
    <tr><td class="paramname">in_nInputPortID</td><td>Input port identifier. </td></tr>
    <tr><td class="paramname">in_nInstanceIndex</td><td>The group instance of the port. Defaults to <code>0</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac6244b19a6076c0da097993a2f597700"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;&#160;</td>
          <td class="paramname"><em>in_geom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy Constructor. </p>

</div>
</div>
<a class="anchor" id="a7acb999636a9a52d9c0be254d47da976"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default Constructor. Creates an invalid <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> object of type Type::siNoneType. </p>

</div>
</div>
<a class="anchor" id="ae8521998851caa6ea695fdb7070120d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">~<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="afa8720abaf6972d6dac22a8cd1a67225"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">bool IsValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the object is valid. Unless the object is not set properly, IsValid always return true. IsValid cannot be used to detect if a geometry is connected or not. The rational behind is that it's not guaranteed that all connected geometries have data, therefore having geometries always set as valid allows users to write generic code. For instance, unconnected geometries, empty polygon geometries and empty point clouds will all return 0 for <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a90e70723c8e2011efade4f8f292d0fcd">CICEGeometry::GetPointPositionCount</a>.</p>
<p>In general it's not recommended for a custom node to check for valid port connections. For instance, a custom node could be connected to a passthrough node which could be potentially not connected to any node. If you want to optimize things based on the port state then it is recommended to use the <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEPortState.html" title="CICEPortState is used for accessing the state of a custom ICENode input port from the BeginEvaluate c...">CICEPortState</a> class and perform actions based on specific notifications.</p>
<dl class="section return"><dt>Returns</dt><dd>True if valid, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="af97e84fbc38ab707fd0b372ecae09abc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a> GetGeometryType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the geometry type. The type is set to Type::siNoneType when the object is not properly defined. </p>
<dl class="section return"><dt>Returns</dt><dd>The geometry type. </dd></dl>

</div>
</div>
<a class="anchor" id="a1dcdb8358ea31624af3d9d50146353e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">bool operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;&#160;</td>
          <td class="paramname"><em>in_geom</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Equality operator. Tests if two geometries are the same; the function is just comparing the internal pointer objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_geom</td><td><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> instance to compare to this instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if both geometries are he same, false if different. </dd></dl>

</div>
</div>
<a class="anchor" id="a794883e61636653b8de04c16bdd26b44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">bool operator!= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;&#160;</td>
          <td class="paramname"><em>in_geom</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Inequality operator. Tests whether two geometries are different; the function is just comparing the internal pointer objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_geom</td><td><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> instance to compare to this instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if both geometries are different, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="abe308a04919d9ff3ed57535b221cc854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> &amp;&#160;</td>
          <td class="paramname"><em>in_geom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assignment operator. Assign this geometry to another geometry. This operation is a simple object assignment. The content of the geometry is not duplicated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_geom</td><td><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> object to assign. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to new <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a28f33a989da2fda9b0600b923c19cd3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">ULONG GetSubGeometryCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of sub-geometries contained by this geometry. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of sub-geometries. </dd></dl>

</div>
</div>
<a class="anchor" id="af16a9c7af1fcb54401a1227e9dec7bae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html">CICEGeometry</a> GetSubGeometry </td>
          <td>(</td>
          <td class="paramtype">ULONG&#160;</td>
          <td class="paramname"><em>in_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the sub-geometry at the position identified by <code>in_index</code>. The <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> instance returned is invalid if <code>in_index</code> is out of bounds. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html" title="Provides a read-only API for accessing the data of a geometry object connected to a custom ICE node...">CICEGeometry</a> instance. </dd></dl>

</div>
</div>
<a class="anchor" id="a90e70723c8e2011efade4f8f292d0fcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">ULONG GetPointPositionCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of point positions on the current geometry. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of point positions. </dd></dl>

</div>
</div>
<a class="anchor" id="a46886a5f4f4a6d727e12b61316fffbbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a> GetPointPositions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CDoubleArray.html">CDoubleArray</a> &amp;&#160;</td>
          <td class="paramname"><em>out_points</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array of double values containing the point positions (<code>xyz</code>) of the entire geometry. The positions are stored as a flat list and can be indexed using the indices returned by <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#afc7c4d0d6b954c667275cf5302cea1a2">CICEGeometry::GetPolygonIndices</a>, <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a3af79e96715bb4ad9e600644d5374e46">CICEGeometry::GetTrianglePointIndices</a> or <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#aa1fcef4f32bf290bf9309affaf0bfb68">CICEGeometry::GetSegmentIndices</a>.</p>
<p>The array is formatted as:</p>
<div class="fragment"><div class="line">{x0,y0,z0, ... xN,yN,zN} </div>
</div><!-- fragment --><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">out_points</td><td>Array of point positions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a> Success. </dd>
<dd>
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da60a075acd0b5e992180ec8ad7d794ea4">CStatus::AccessDenied</a> Object is invalid or method called from invalid context.</dd></dl>
<dl class="section user"><dt>Example:</dt><dd>Example to demonstrate how to access the points of a geometry. <div class="fragment"><div class="line"><a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geom( in_ctxt, ID_IN_geometry );</div>
<div class="line"></div>
<div class="line">CDoubleArray points;</div>
<div class="line">geom.GetPointPositions( points ) ;</div>
<div class="line"></div>
<div class="line">ULONG nCount = geom.GetPolygonCount();</div>
<div class="line"></div>
<div class="line">CLongArray sizes;</div>
<div class="line">CLongArray indices;</div>
<div class="line">geom.GetPolygonIndices( sizes, indices );</div>
<div class="line"></div>
<div class="line">ULONG nOffset = 0;</div>
<div class="line">std::vector&lt; MATH::CVector3f &gt; v3fArray;</div>
<div class="line"><span class="keywordflow">for</span> (ULONG i=0; i&lt;nCount; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (ULONG j=0; j&lt;(ULONG)sizes[i]; j++, nOffset++)</div>
<div class="line">    {</div>
<div class="line">        MATH::CVector3f v(  (<span class="keywordtype">float</span>)points[ indices[nOffset]*3 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+1 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+2 ] );</div>
<div class="line">        v3fArray.push_back( v );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a6df014e0773c54335e619f0e5c65ad27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">ULONG GetTriangleCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of triangles in the geometry. </p>
<dl class="section return"><dt>Returns</dt><dd>Triangle count. </dd></dl>

</div>
</div>
<a class="anchor" id="a3af79e96715bb4ad9e600644d5374e46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a> GetTrianglePointIndices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;&#160;</td>
          <td class="paramname"><em>out_indices</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array containing the point indices for each triangulated polygon. The point indices are stored in the array as a flat list of values grouped in triplets, the first triplet being the points of triangle <code>0</code>, etc. The triangle indices are numbered based on the order of creation of the triangles.</p>
<p>The array is formatted as:</p>
<div class="fragment"><div class="line">{t0&lt;p0,p1,p2&gt;, t1&lt;p0,p1,p2&gt;... tN&lt;p0,p1,p2&gt;} </div>
</div><!-- fragment --><dl class="section user"><dt>Note:</dt><dd>This method performs a triangulation of the current geometry before returning the data.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">out_indices</td><td>Array of triangle point indices. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a> Success. </dd>
<dd>
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da60a075acd0b5e992180ec8ad7d794ea4">CStatus::AccessDenied</a> Object is invalid or method called from invalid context.</dd></dl>
<dl class="section user"><dt>Example:</dt><dd>Example to demonstrate how to access the triangle points of a geometry. <div class="fragment"><div class="line"><a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geom( in_ctxt, ID_IN_geometry );</div>
<div class="line"></div>
<div class="line">CDoubleArray points;</div>
<div class="line">geom.GetPointPositions( points ) ;</div>
<div class="line"></div>
<div class="line">ULONG nCount = geom.GetTriangleCount();</div>
<div class="line"></div>
<div class="line">CLongArray indices;</div>
<div class="line">geom.GetTrianglePointIndices( indices );</div>
<div class="line"></div>
<div class="line">ULONG nOffset = 0;</div>
<div class="line">std::vector&lt; MATH::CVector3f &gt; v3fArray;</div>
<div class="line"><span class="keywordflow">for</span> (ULONG i=0; i&lt;nCount; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (ULONG j=0; j&lt;3; j++, nOffset++)</div>
<div class="line">    {</div>
<div class="line">        MATH::CVector3f v(  (<span class="keywordtype">float</span>)points[ indices[nOffset]*3 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+1 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+2 ] );</div>
<div class="line">        v3fArray.push_back( v );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a1518e5249e9cbc9b489758c8f42d80f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">ULONG GetPolygonCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of polygons of the geometry. </p>
<dl class="section return"><dt>Returns</dt><dd>Polygon count. </dd></dl>

</div>
</div>
<a class="anchor" id="afc7c4d0d6b954c667275cf5302cea1a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a> GetPolygonIndices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;&#160;</td>
          <td class="paramname"><em>out_sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;&#160;</td>
          <td class="paramname"><em>out_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the size and point indices for all polygons on the geometry.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">out_sizes</td><td>Array containing the point count for each polygon. </td></tr>
    <tr><td class="paramname">out_indices</td><td>Array containing the point indices for each Polygon. The vertices are stored as a flat list and ordered by polygons, the first group being the points for polygon <code>0</code>, etc. <br>
<br>
The array is formatted as:<div class="fragment"><div class="line">{poly0&lt;v0,v1..vN&gt;, poly1&lt;v0,v1..vN&gt;... polyN&lt;v0,v1..vN&gt;} </div>
</div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a> Success. </dd>
<dd>
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da60a075acd0b5e992180ec8ad7d794ea4">CStatus::AccessDenied</a> Object is invalid or method called from invalid context.</dd></dl>
<dl class="section user"><dt>Example:</dt><dd>Example to demonstrate how to access the polygon points of a geometry. <div class="fragment"><div class="line"><a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geom( in_ctxt, ID_IN_geometry );</div>
<div class="line"></div>
<div class="line">CDoubleArray points;</div>
<div class="line">geom.GetPointPositions( points ) ;</div>
<div class="line"></div>
<div class="line">ULONG nCount = geom.GetPolygonCount();</div>
<div class="line"></div>
<div class="line">CLongArray sizes;</div>
<div class="line">CLongArray indices;</div>
<div class="line">geom.GetPolygonIndices( sizes, indices );</div>
<div class="line"></div>
<div class="line">ULONG nOffset = 0;</div>
<div class="line">std::vector&lt; MATH::CVector3f &gt; v3fArray;</div>
<div class="line"><span class="keywordflow">for</span> (ULONG i=0; i&lt;nCount; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (ULONG j=0; j&lt;(ULONG)sizes[i]; j++, nOffset++)</div>
<div class="line">    {</div>
<div class="line">        MATH::CVector3f v(  (<span class="keywordtype">float</span>)points[ indices[nOffset]*3 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+1 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+2 ] );</div>
<div class="line">        v3fArray.push_back( v );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="ab2f262f1df0eb3bdad001d8b1490754d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">ULONG GetSegmentCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of segments for the geometry. Segment is a generic term to describe 1D geometry components such as edges for mesh surfaces and control points for nurbs surfaces. </p>
<dl class="section return"><dt>Returns</dt><dd>Segment count. </dd></dl>

</div>
</div>
<a class="anchor" id="aa1fcef4f32bf290bf9309affaf0bfb68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a> GetSegmentIndices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CLongArray.html">CLongArray</a> &amp;&#160;</td>
          <td class="paramname"><em>out_indices</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an array of segment indices. Segment is a generic term to describe 1D geometry components such as edges for mesh surfaces and control points for nurbs surfaces. The array contains a sequence of pairs describing the segment indices:</p>
<div class="fragment"><div class="line">{s0&lt;id0,id1&gt;, ...sN&lt;id0,id1&gt;} </div>
</div><!-- fragment --><p>The indices can be used with <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a46886a5f4f4a6d727e12b61316fffbbf">CICEGeometry::GetPointPositions</a> to get the segment points.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">out_indices</td><td>Array of edge indices.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a> Succeeded. </dd>
<dd>
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da60a075acd0b5e992180ec8ad7d794ea4">CStatus::AccessDenied</a> Object is invalid or method called from invalid context.</dd></dl>
<dl class="section user"><dt>Example:</dt><dd>Example to demonstrate how to access the segment points of a geometry. <div class="fragment"><div class="line"><a class="code" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a7acb999636a9a52d9c0be254d47da976">CICEGeometry</a> geom( in_ctxt, ID_IN_geometry );</div>
<div class="line"></div>
<div class="line">CDoubleArray points;</div>
<div class="line">geom.GetPointPositions( points ) ;</div>
<div class="line"></div>
<div class="line">ULONG nCount = geom.GetSegmentCount();</div>
<div class="line"></div>
<div class="line">CLongArray indices;</div>
<div class="line">geom.GetSegmentIndices( sizes, indices );</div>
<div class="line"></div>
<div class="line">ULONG nOffset = 0;</div>
<div class="line">std::vector&lt; MATH::CVector3f &gt; v3fArray;</div>
<div class="line"><span class="keywordflow">for</span> (ULONG i=0; i&lt;nCount; i++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (ULONG j=0; j&lt;2; j++, nOffset++)</div>
<div class="line">    {</div>
<div class="line">        MATH::CVector3f v(  (<span class="keywordtype">float</span>)points[ indices[nOffset]*3 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+1 ],</div>
<div class="line">                            (<span class="keywordtype">float</span>)points[ indices[nOffset]*3+2 ] );</div>
<div class="line">        v3fArray.push_back( v );</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a class="anchor" id="a16ac89213569622fb00fe5e981fa2918"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html">CStatus</a> GetTransformation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1MATH_1_1CMatrix4f.html">XSI::MATH::CMatrix4f</a> &amp;&#160;</td>
          <td class="paramname"><em>out_mat44</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the global transformation matrix of this geometry. </p>
<dl class="section user"><dt>Note:</dt><dd>Geometry points are returned in local coordinates; use the geometry transformation matrix to convert the points to global coordinates.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">out_mat44</td><td>Transformation matrix. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da2bc49ec37d6a5715dd23e85f1ff5bb59">CStatus::OK</a> Succeeded. </dd>
<dd>
<a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CStatus.html#af31477bc48f67856bedb0fa8e5b5281da60a075acd0b5e992180ec8ad7d794ea4">CStatus::AccessDenied</a> Object is invalid or method called from invalid context. </dd></dl>

</div>
</div>
<a class="anchor" id="a8ba7104f19642abbf575c4a5475ae5fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">bool IsDirty </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>in_flag</em> = <code><a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa4990f4431660053845f6189e5e019198">siAnyDirtyState</a></code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the dirty state of this geometry for a given state type as defined in the <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22f">CICEGeometry::DirtyState</a> enumerator. By default, IsDirty returns true if at least one of the geometry states is dirty. </p>
<dl class="section user"><dt>Note:</dt><dd>Changing the transformation on a sub-geometry object will force a <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fafda97d4337b4872babc8c6a9463c9e9c">CICEGeometry::siPointPositionDirtyState</a> change on the grouped geometry. However, no <a class="el" translate="no" href="#!/url=./si_cpp/classXSI_1_1CICEGeometry.html#a79be0489b44a77620de069631265f22fa9ee491e427205139588b4ea649b4a00b">CICEGeometry::siTransformationDirtyState</a> will be generated for the group geometry. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_flag</td><td>State type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the object is dirty, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="aadd0c8bf4d40d83e231053dc5094bd63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname" translate="no">void ClearState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the geometry states. </p>
<dl class="section user"><dt>Note:</dt><dd>ClearState on sub-geometries will clear the states for the entire group geometry. It is recommended to call ClearState only on the group geometry to avoid inconsistencies. </dd></dl>

</div>
</div>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" translate="no" href="#!/url=./si_cpp/xsi__icegeometry_8h_source.html">xsi_icegeometry.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
          <div class="footer-block"><a href="../html/ac.cmtdialog.htm" class="comments-anchor" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div><br></div>
   </div></body>
</html>
